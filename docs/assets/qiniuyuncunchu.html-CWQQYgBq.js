import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o as e,c as o,a as n,d as s,e as c,b as l}from"./app-qB9_Bjjp.js";const u={},i=l(`<h2 id="ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#ä»‹ç»"><span>ä»‹ç»</span></a></h2><p>C## SDK å±äºæœåŠ¡ç«¯SDKä¹‹ä¸€ï¼Œä¸»è¦æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š</p><ul><li>æä¾›ç”Ÿæˆå®¢æˆ·ç«¯ä¸Šä¼ æ‰€éœ€çš„ä¸Šä¼ å‡­è¯çš„åŠŸèƒ½</li><li>æä¾›æ–‡ä»¶ä»æœåŠ¡ç«¯ç›´æ¥ä¸Šä¸ƒç‰›çš„åŠŸèƒ½</li><li>æä¾›å¯¹ä¸ƒç‰›ç©ºé—´ä¸­æ–‡ä»¶è¿›è¡Œç®¡ç†çš„åŠŸèƒ½</li><li>æä¾›å¯¹ä¸ƒç‰›ç©ºé—´ä¸­æ–‡ä»¶è¿›è¡Œå¤„ç†çš„åŠŸèƒ½</li><li>æä¾›ä¸ƒç‰›CDNç›¸å…³çš„åˆ·æ–°ï¼Œé¢„å–ï¼Œæ—¥å¿—åŠŸèƒ½</li></ul><h2 id="æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#æ“ä½œ"><span>æ“ä½œ</span></a></h2><h3 id="å®¢æˆ·ç«¯ä¸Šä¼ å‡­è¯" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯ä¸Šä¼ å‡­è¯"><span>å®¢æˆ·ç«¯ä¸Šä¼ å‡­è¯</span></a></h3><p>å®¢æˆ·ç«¯ï¼ˆç§»åŠ¨ç«¯æˆ–è€…Webç«¯ï¼‰ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™ï¼Œéœ€è¦ä»å®¢æˆ·è‡ªå·±çš„ä¸šåŠ¡æœåŠ¡å™¨è·å–ä¸Šä¼ å‡­è¯ï¼Œè€Œè¿™äº›ä¸Šä¼ å‡­è¯æ˜¯é€šè¿‡æœåŠ¡ç«¯çš„SDKæ¥ç”Ÿæˆçš„ï¼Œç„¶åé€šè¿‡å®¢æˆ·è‡ªå·±çš„ä¸šåŠ¡APIåˆ†å‘ç»™å®¢æˆ·ç«¯ä½¿ç”¨ã€‚æ ¹æ®ä¸Šä¼ çš„ä¸šåŠ¡éœ€æ±‚ä¸åŒï¼Œc## SDKæ”¯æŒä¸°å¯Œçš„ä¸Šä¼ å‡­è¯ç”Ÿæˆæ–¹å¼ã€‚ åˆ›å»ºå„ç§ä¸Šä¼ å‡­è¯ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å¥½å…¶ä¸­é‰´æƒå¯¹è±¡macï¼š</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token class-name">Mac</span> mac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Mac</span><span class="token punctuation">(</span>AccessKey<span class="token punctuation">,</span> SecretKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ç®€å•ä¸Šä¼ å‡­è¯" tabindex="-1"><a class="header-anchor" href="#ç®€å•ä¸Šä¼ å‡­è¯"><span>ç®€å•ä¸Šä¼ å‡­è¯</span></a></h3><p>æœ€ç®€å•çš„ä¸Šä¼ å‡­è¯åªéœ€è¦AccessKeyï¼ŒSecretKeyå’ŒBucketå°±å¯ä»¥ã€‚</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token class-name">PutPolicy</span> putPolicy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PutPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>Scope <span class="token operator">=</span> Bucket<span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> token <span class="token operator">=</span> Auth<span class="token punctuation">.</span><span class="token function">CreateUploadToken</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> putPolicy<span class="token punctuation">.</span><span class="token function">ToJsonString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ä¸æŒ‡å®šä¸Šä¼ å‡­è¯çš„æœ‰æ•ˆæ—¶é—´æƒ…å†µä¸‹ï¼Œé»˜è®¤æœ‰æ•ˆæœŸä¸º1ä¸ªå°æ—¶ã€‚ä¹Ÿå¯ä»¥è‡ªè¡ŒæŒ‡å®šä¸Šä¼ å‡­è¯çš„æœ‰æ•ˆæœŸï¼Œä¾‹å¦‚ï¼š</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token comment">//è‡ªå®šä¹‰å‡­è¯æœ‰æ•ˆæœŸï¼ˆç¤ºä¾‹2å°æ—¶ï¼Œexpireså•ä½ä¸ºç§’ï¼Œä¸ºä¸Šä¼ å‡­è¯çš„æœ‰æ•ˆæ—¶é—´ï¼‰</span>
<span class="token class-name">PutPolicy</span> putPolicy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PutPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>Scope <span class="token operator">=</span> Bucket<span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span><span class="token function">SetExpires</span><span class="token punctuation">(</span><span class="token number">7200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> token <span class="token operator">=</span> Auth<span class="token punctuation">.</span><span class="token function">CreateUploadToken</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> putPolicy<span class="token punctuation">.</span><span class="token function">ToJsonString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¦†ç›–ä¸Šä¼ çš„å‡­è¯" tabindex="-1"><a class="header-anchor" href="#è¦†ç›–ä¸Šä¼ çš„å‡­è¯"><span>è¦†ç›–ä¸Šä¼ çš„å‡­è¯</span></a></h3><p>è¦†ç›–ä¸Šä¼ é™¤äº†éœ€è¦ç®€å•ä¸Šä¼ æ‰€éœ€è¦çš„ä¿¡æ¯ä¹‹å¤–ï¼Œè¿˜éœ€è¦æƒ³è¿›è¡Œè¦†ç›–çš„æ–‡ä»¶åç§°ï¼Œè¿™ä¸ªæ–‡ä»¶åç§°åŒæ—¶å¯æ˜¯å®¢æˆ·ç«¯ä¸Šä¼ ä»£ç ä¸­æŒ‡å®šçš„æ–‡ä»¶åï¼Œä¸¤è€…å¿…é¡»ä¸€è‡´ã€‚</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token class-name">PutPolicy</span> putPolicy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PutPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>Scope <span class="token operator">=</span> Bucket <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> Key<span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span><span class="token function">SetExpires</span><span class="token punctuation">(</span><span class="token number">7200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> token <span class="token operator">=</span> Auth<span class="token punctuation">.</span><span class="token function">CreateUploadToken</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> putPolicy<span class="token punctuation">.</span><span class="token function">ToJsonString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªå®šä¹‰ä¸Šä¼ å›å¤çš„å‡­è¯" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰ä¸Šä¼ å›å¤çš„å‡­è¯"><span>è‡ªå®šä¹‰ä¸Šä¼ å›å¤çš„å‡­è¯</span></a></h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ–‡ä»¶ä¸Šä¼ åˆ°å­˜å‚¨ä¹‹åï¼Œåœ¨æ²¡æœ‰è®¾ç½®returnBodyæˆ–è€…å›è°ƒç›¸å…³çš„å‚æ•°æƒ…å†µä¸‹ï¼Œå­˜å‚¨è¿”å›ç»™ä¸Šä¼ ç«¯çš„å›å¤æ ¼å¼ä¸ºhashå’Œkeyï¼Œä¾‹å¦‚ï¼š</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token punctuation">{</span><span class="token string">&quot;hash&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;Ftgm-CkWePC9fzMBTRNmPMhGBcSV&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;qiniu.jpg&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›èƒ½è‡ªå®šä¹‰è¿™ä¸ªè¿”å›çš„JSONæ ¼å¼çš„å†…å®¹ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®returnBodyå‚æ•°æ¥å®ç°ï¼Œåœ¨returnBodyä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸ƒç‰›æ”¯æŒçš„é­”æ³•å˜é‡å’Œè‡ªå®šä¹‰å˜é‡ã€‚</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token class-name">PutPolicy</span> putPolicy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PutPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>Scope <span class="token operator">=</span> Bucket <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> Key<span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>ReturnBody <span class="token operator">=</span> <span class="token string">&quot;{\\&quot;key\\&quot;:\\&quot;$(key)\\&quot;,\\&quot;hash\\&quot;:\\&quot;$(etag)\\&quot;,\\&quot;fsiz\\&quot;:$(fsize),\\&quot;bucket\\&quot;:\\&quot;$(bucket)\\&quot;,\\&quot;name\\&quot;:\\&quot;$(x:name)\\&quot;}&quot;</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> token <span class="token operator">=</span> Auth<span class="token punctuation">.</span><span class="token function">CreateUploadToken</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> putPolicy<span class="token punctuation">.</span><span class="token function">ToJsonString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ™æ–‡ä»¶ä¸Šä¼ åˆ°å­˜å‚¨ä¹‹åï¼Œæ”¶åˆ°çš„å›å¤å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token punctuation">{</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;qiniu.jpg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hash&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;Ftgm-CkWePC9fzMBTRNmPMhGBcSV&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bucket&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;if-bc&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;fsize&quot;</span><span class="token punctuation">:</span><span class="token number">39335</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;qiniu&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="å¸¦å›è°ƒä¸šåŠ¡æœåŠ¡å™¨çš„å‡­è¯" tabindex="-1"><a class="header-anchor" href="#å¸¦å›è°ƒä¸šåŠ¡æœåŠ¡å™¨çš„å‡­è¯"><span>å¸¦å›è°ƒä¸šåŠ¡æœåŠ¡å™¨çš„å‡­è¯</span></a></h3><p>ä¸Šé¢ç”Ÿæˆçš„è‡ªå®šä¹‰ä¸Šä¼ å›å¤çš„ä¸Šä¼ å‡­è¯é€‚ç”¨äºä¸Šä¼ ç«¯ï¼ˆæ— è®ºæ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡ç«¯ï¼‰å’Œå­˜å‚¨æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œç›´æ¥äº¤äº’çš„æƒ…å†µä¸‹ã€‚åœ¨å®¢æˆ·ç«¯ä¸Šä¼ çš„åœºæ™¯ä¹‹ä¸‹ï¼Œæœ‰æ—¶å€™å®¢æˆ·ç«¯éœ€è¦åœ¨æ–‡ä»¶ä¸Šä¼ åˆ°å­˜å‚¨ä¹‹åï¼Œä»ä¸šåŠ¡æœåŠ¡å™¨è·å–ç›¸å…³çš„ä¿¡æ¯ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°å­˜å‚¨çš„ä¸Šä¼ å›è°ƒåŠç›¸å…³å›è°ƒå‚æ•°çš„è®¾ç½®ã€‚</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code>putPolicy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PutPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>Scope <span class="token operator">=</span> Bucket<span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>CallbackUrl <span class="token operator">=</span> <span class="token string">&quot;http://api.example.com/qiniu/upload/callback&quot;</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>CallbackBody <span class="token operator">=</span> <span class="token string">&quot;{\\&quot;key\\&quot;:\\&quot;$(key)\\&quot;,\\&quot;hash\\&quot;:\\&quot;$(etag)\\&quot;,\\&quot;fsiz\\&quot;:$(fsize),\\&quot;bucket\\&quot;:\\&quot;$(bucket)\\&quot;,\\&quot;name\\&quot;:\\&quot;$(x:name)\\&quot;}&quot;</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>CallbackBodyType <span class="token operator">=</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">;</span>
upToken <span class="token operator">=</span> Auth<span class="token punctuation">.</span><span class="token function">CreateUploadToken</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> putPolicy<span class="token punctuation">.</span><span class="token function">ToJsonString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>upToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä½¿ç”¨äº†ä¸Šä¼ å›è°ƒçš„æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°çš„å›å¤å°±æ˜¯ä¸šåŠ¡æœåŠ¡å™¨å“åº”ä¸ƒç‰›çš„JSONæ ¼å¼å†…å®¹ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨application/jsonæ ¼å¼æ¥è®¾ç½®callbackBodyï¼Œä¿æŒæ•°æ®æ ¼å¼çš„ç»Ÿä¸€æ€§ã€‚å®é™…æƒ…å†µä¸‹ï¼ŒcallbackBodyä¹Ÿæ”¯æŒapplication/x-www-form-urlencodedæ ¼å¼æ¥ç»„ç»‡å†…å®¹ï¼Œè¿™ä¸ªä¸»è¦çœ‹ä¸šåŠ¡æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°callbackBodyçš„å†…å®¹æ—¶å¦‚æœè§£æã€‚ä¾‹å¦‚ï¼š</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code>putPolicy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PutPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>Scope <span class="token operator">=</span> Bucket<span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>CallbackUrl <span class="token operator">=</span> <span class="token string">&quot;http://api.example.com/qiniu/upload/callback&quot;</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>CallbackBody <span class="token operator">=</span> <span class="token string">&quot;key=$(key)&amp;hash=$(etag)&amp;bucket=$(bucket)&amp;fsize=$(fsize)&amp;name=$(x:name)&quot;</span><span class="token punctuation">;</span>
upToken <span class="token operator">=</span> Auth<span class="token punctuation">.</span><span class="token function">CreateUploadToken</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> putPolicy<span class="token punctuation">.</span><span class="token function">ToJsonString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>upToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¸¦æ•°æ®å¤„ç†çš„å‡­è¯" tabindex="-1"><a class="header-anchor" href="#å¸¦æ•°æ®å¤„ç†çš„å‡­è¯"><span>å¸¦æ•°æ®å¤„ç†çš„å‡­è¯</span></a></h3><p>ä¸ƒç‰›æ”¯æŒåœ¨æ–‡ä»¶ä¸Šä¼ åˆ°ä¸ƒç‰›ä¹‹åï¼Œç«‹å³å¯¹å…¶è¿›è¡Œå¤šç§æŒ‡ä»¤çš„æ•°æ®å¤„ç†ï¼Œè¿™ä¸ªåªéœ€è¦åœ¨ç”Ÿæˆçš„ä¸Šä¼ å‡­è¯ä¸­æŒ‡å®šç›¸å…³çš„å¤„ç†å‚æ•°å³å¯ã€‚</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code>putPolicy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PutPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> saveMp4Entry <span class="token operator">=</span> Base64<span class="token punctuation">.</span><span class="token function">UrlSafeBase64Encode</span><span class="token punctuation">(</span>Bucket <span class="token operator">+</span> <span class="token string">&quot;:avthumb_test_target.mp4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> saveJpgEntry <span class="token operator">=</span> Base64<span class="token punctuation">.</span><span class="token function">UrlSafeBase64Encode</span><span class="token punctuation">(</span>Bucket <span class="token operator">+</span> <span class="token string">&quot;:vframe_test_target.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> avthumbMp4Fop <span class="token operator">=</span> <span class="token string">&quot;avthumb/mp4|saveas/&quot;</span> <span class="token operator">+</span> saveMp4Entry<span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> vframeJpgFop <span class="token operator">=</span> <span class="token string">&quot;vframe/jpg/offset/1|saveas/&quot;</span> <span class="token operator">+</span> saveJpgEntry<span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> fops <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">&quot;;&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> avthumbMp4Fop<span class="token punctuation">,</span> vframeJpgFop <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>Scope <span class="token operator">=</span> Bucket<span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>PersistentOps <span class="token operator">=</span> fops<span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>PersistentPipeline <span class="token operator">=</span> <span class="token string">&quot;video-pipe&quot;</span><span class="token punctuation">;</span>
putPolicy<span class="token punctuation">.</span>PersistentNotifyUrl <span class="token operator">=</span> <span class="token string">&quot;http://api.example.com/qiniu/pfop/notify&quot;</span><span class="token punctuation">;</span>
upToken <span class="token operator">=</span> Auth<span class="token punctuation">.</span><span class="token function">CreateUploadToken</span><span class="token punctuation">(</span>mac<span class="token punctuation">,</span> putPolicy<span class="token punctuation">.</span><span class="token function">ToJsonString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>upToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é˜Ÿåˆ— pipeline è¯·å‚é˜…åˆ›å»ºç§æœ‰é˜Ÿåˆ—ï¼›è½¬ç æ“ä½œå…·ä½“å‚æ•°è¯·å‚é˜…éŸ³è§†é¢‘è½¬ç ï¼›saveas è¯·å‚é˜…å¤„ç†ç»“æœå¦å­˜ã€‚</p><h3 id="å¸¦è‡ªå®šä¹‰å‚æ•°çš„å‡­è¯" tabindex="-1"><a class="header-anchor" href="#å¸¦è‡ªå®šä¹‰å‚æ•°çš„å‡­è¯"><span>å¸¦è‡ªå®šä¹‰å‚æ•°çš„å‡­è¯</span></a></h3><p>å­˜å‚¨æ”¯æŒå®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™å®šä¹‰ä¸€äº›è‡ªå®šä¹‰å‚æ•°ï¼Œè¿™äº›å‚æ•°å¯ä»¥åœ¨returnBodyå’ŒcallbackBodyé‡Œé¢å’Œä¸ƒç‰›å†…ç½®æ”¯æŒçš„é­”æ³•å˜é‡ï¼ˆå³ç³»ç»Ÿå˜é‡ï¼‰é€šè¿‡ç›¸åŒçš„æ–¹å¼æ¥å¼•ç”¨ã€‚è¿™äº›è‡ªå®šä¹‰çš„å‚æ•°åç§°å¿…é¡»ä»¥x:å¼€å¤´ã€‚ä¾‹å¦‚å®¢æˆ·ç«¯ä¸Šä¼ çš„æ—¶å€™æŒ‡å®šäº†è‡ªå®šä¹‰çš„å‚æ•°x:nameå’Œx:ageåˆ†åˆ«æ˜¯stringå’Œintç±»å‹ã€‚é‚£ä¹ˆå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼å¼•ç”¨ï¼š</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code>putPolicy<span class="token punctuation">.</span>ReturnBody <span class="token operator">=</span> <span class="token string">&quot;{\\&quot;key\\&quot;:\\&quot;$(key)\\&quot;,\\&quot;hash\\&quot;:\\&quot;$(etag)\\&quot;,\\&quot;fsiz\\&quot;:$(fsize),\\&quot;bucket\\&quot;:\\&quot;$(bucket)\\&quot;,\\&quot;name\\&quot;:\\&quot;$(x:name)\\&quot;}&quot;</span><span class="token punctuation">;</span>

æˆ–è€…
putPolicy<span class="token punctuation">.</span>CallbackBody <span class="token operator">=</span> <span class="token string">&quot;{\\&quot;key\\&quot;:\\&quot;$(key)\\&quot;,\\&quot;hash\\&quot;:\\&quot;$(etag)\\&quot;,\\&quot;fsiz\\&quot;:$(fsize),\\&quot;bucket\\&quot;:\\&quot;$(bucket)\\&quot;,\\&quot;name\\&quot;:\\&quot;$(x:name)\\&quot;}&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç»¼åˆä¸Šä¼ å‡­è¯" tabindex="-1"><a class="header-anchor" href="#ç»¼åˆä¸Šä¼ å‡­è¯"><span>ç»¼åˆä¸Šä¼ å‡­è¯</span></a></h3><p>ä¸Šé¢çš„ç”Ÿæˆä¸Šä¼ å‡­è¯çš„æ–¹æ³•ï¼Œéƒ½æ˜¯é€šè¿‡è®¾ç½®ä¸Šä¼ ç­–ç•¥ğŸ”—ç›¸å…³çš„å‚æ•°æ¥æ”¯æŒçš„ï¼Œè¿™äº›å‚æ•°å¯ä»¥é€šè¿‡ä¸åŒçš„ç»„åˆæ–¹å¼æ¥æ»¡è¶³ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ï¼Œå¯ä»¥çµæ´»åœ°ç»„ç»‡ä½ æ‰€éœ€è¦çš„ä¸Šä¼ å‡­è¯ã€‚</p><h3 id="æœåŠ¡ç«¯ç›´ä¼ " tabindex="-1"><a class="header-anchor" href="#æœåŠ¡ç«¯ç›´ä¼ "><span>æœåŠ¡ç«¯ç›´ä¼ </span></a></h3><p>æœåŠ¡ç«¯ç›´ä¼ æ˜¯æŒ‡å®¢æˆ·åˆ©ç”¨ä¸ƒç‰›æœåŠ¡ç«¯SDKä»æœåŠ¡ç«¯ç›´æ¥ä¸Šä¼ æ–‡ä»¶åˆ°å­˜é”¤ï¼Œäº¤äº’çš„åŒæ–¹ä¸€èˆ¬éƒ½åœ¨æœºæˆ¿é‡Œé¢ï¼Œæ‰€ä»¥æœåŠ¡ç«¯å¯ä»¥è‡ªå·±ç”Ÿæˆä¸Šä¼ å‡­è¯ï¼Œç„¶ååˆ©ç”¨SDKä¸­çš„ä¸Šä¼ é€»è¾‘è¿›è¡Œä¸Šä¼ ï¼Œæœ€åä»ä¸ƒç‰›äº‘è·å–ä¸Šä¼ çš„ç»“æœï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ç”±äºåŒæ–¹éƒ½æ˜¯ä¸šåŠ¡æœåŠ¡å™¨ï¼Œæ‰€ä»¥å¾ˆå°‘åˆ©ç”¨åˆ°ä¸Šä¼ å›è°ƒçš„åŠŸèƒ½ï¼Œè€Œæ˜¯ç›´æ¥è‡ªå®šä¹‰returnBodyæ¥è·å–è‡ªå®šä¹‰çš„å›å¤å†…å®¹ã€‚</p><h2 id="å‚è€ƒæ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£"><span>å‚è€ƒæ–‡æ¡£</span></a></h2>`,39),r={href:"https://mp.weixin.qq.com/s/UfK_kLxz7x1zyokWN3CPtA",target:"_blank",rel:"noopener noreferrer"};function k(d,m){const a=p("ExternalLinkIcon");return e(),o("div",null,[i,n("p",null,[s("å¾®ä¿¡å…¬ä¼—å·ã€DotNet NBã€‘ï¼š"),n("a",r,[s("https://mp.weixin.qq.com/s/UfK_kLxz7x1zyokWN3CPtA"),c(a)])])])}const g=t(u,[["render",k],["__file","qiniuyuncunchu.html.vue"]]),q=JSON.parse('{"path":"/middleware/oss/qiniuyuncunchu.html","title":"ä¸ƒç‰›äº‘å­˜å‚¨","lang":"zh-CN","frontmatter":{"title":"ä¸ƒç‰›äº‘å­˜å‚¨","lang":"zh-CN","date":"2022-01-16T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["middleware"],"tag":["æ— "],"filename":"qiniuyuncunchu","slug":"vwg15v","docsId":"63746249","description":"ä»‹ç» C## SDK å±äºæœåŠ¡ç«¯SDKä¹‹ä¸€ï¼Œä¸»è¦æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š æä¾›ç”Ÿæˆå®¢æˆ·ç«¯ä¸Šä¼ æ‰€éœ€çš„ä¸Šä¼ å‡­è¯çš„åŠŸèƒ½ æä¾›æ–‡ä»¶ä»æœåŠ¡ç«¯ç›´æ¥ä¸Šä¸ƒç‰›çš„åŠŸèƒ½ æä¾›å¯¹ä¸ƒç‰›ç©ºé—´ä¸­æ–‡ä»¶è¿›è¡Œç®¡ç†çš„åŠŸèƒ½ æä¾›å¯¹ä¸ƒç‰›ç©ºé—´ä¸­æ–‡ä»¶è¿›è¡Œå¤„ç†çš„åŠŸèƒ½ æä¾›ä¸ƒç‰›CDNç›¸å…³çš„åˆ·æ–°ï¼Œé¢„å–ï¼Œæ—¥å¿—åŠŸèƒ½ æ“ä½œ å®¢æˆ·ç«¯ä¸Šä¼ å‡­è¯ å®¢æˆ·ç«¯ï¼ˆç§»åŠ¨ç«¯æˆ–è€…Webç«¯ï¼‰ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™ï¼Œéœ€è¦ä»å®¢æˆ·è‡ªå·±çš„ä¸šåŠ¡æœåŠ¡å™¨è·å–ä¸Šä¼ å‡­è¯...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/middleware/oss/qiniuyuncunchu.html"}],["meta",{"property":"og:site_name","content":"çŸ¥è¯†åº“"}],["meta",{"property":"og:title","content":"ä¸ƒç‰›äº‘å­˜å‚¨"}],["meta",{"property":"og:description","content":"ä»‹ç» C## SDK å±äºæœåŠ¡ç«¯SDKä¹‹ä¸€ï¼Œä¸»è¦æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š æä¾›ç”Ÿæˆå®¢æˆ·ç«¯ä¸Šä¼ æ‰€éœ€çš„ä¸Šä¼ å‡­è¯çš„åŠŸèƒ½ æä¾›æ–‡ä»¶ä»æœåŠ¡ç«¯ç›´æ¥ä¸Šä¸ƒç‰›çš„åŠŸèƒ½ æä¾›å¯¹ä¸ƒç‰›ç©ºé—´ä¸­æ–‡ä»¶è¿›è¡Œç®¡ç†çš„åŠŸèƒ½ æä¾›å¯¹ä¸ƒç‰›ç©ºé—´ä¸­æ–‡ä»¶è¿›è¡Œå¤„ç†çš„åŠŸèƒ½ æä¾›ä¸ƒç‰›CDNç›¸å…³çš„åˆ·æ–°ï¼Œé¢„å–ï¼Œæ—¥å¿—åŠŸèƒ½ æ“ä½œ å®¢æˆ·ç«¯ä¸Šä¼ å‡­è¯ å®¢æˆ·ç«¯ï¼ˆç§»åŠ¨ç«¯æˆ–è€…Webç«¯ï¼‰ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™ï¼Œéœ€è¦ä»å®¢æˆ·è‡ªå·±çš„ä¸šåŠ¡æœåŠ¡å™¨è·å–ä¸Šä¼ å‡­è¯..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-13T14:11:27.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"æ— "}],["meta",{"property":"article:published_time","content":"2022-01-16T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-13T14:11:27.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ä¸ƒç‰›äº‘å­˜å‚¨\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-01-16T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-13T14:11:27.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"ä»‹ç»","slug":"ä»‹ç»","link":"#ä»‹ç»","children":[]},{"level":2,"title":"æ“ä½œ","slug":"æ“ä½œ","link":"#æ“ä½œ","children":[{"level":3,"title":"å®¢æˆ·ç«¯ä¸Šä¼ å‡­è¯","slug":"å®¢æˆ·ç«¯ä¸Šä¼ å‡­è¯","link":"#å®¢æˆ·ç«¯ä¸Šä¼ å‡­è¯","children":[]},{"level":3,"title":"ç®€å•ä¸Šä¼ å‡­è¯","slug":"ç®€å•ä¸Šä¼ å‡­è¯","link":"#ç®€å•ä¸Šä¼ å‡­è¯","children":[]},{"level":3,"title":"è¦†ç›–ä¸Šä¼ çš„å‡­è¯","slug":"è¦†ç›–ä¸Šä¼ çš„å‡­è¯","link":"#è¦†ç›–ä¸Šä¼ çš„å‡­è¯","children":[]},{"level":3,"title":"è‡ªå®šä¹‰ä¸Šä¼ å›å¤çš„å‡­è¯","slug":"è‡ªå®šä¹‰ä¸Šä¼ å›å¤çš„å‡­è¯","link":"#è‡ªå®šä¹‰ä¸Šä¼ å›å¤çš„å‡­è¯","children":[]},{"level":3,"title":"å¸¦å›è°ƒä¸šåŠ¡æœåŠ¡å™¨çš„å‡­è¯","slug":"å¸¦å›è°ƒä¸šåŠ¡æœåŠ¡å™¨çš„å‡­è¯","link":"#å¸¦å›è°ƒä¸šåŠ¡æœåŠ¡å™¨çš„å‡­è¯","children":[]},{"level":3,"title":"å¸¦æ•°æ®å¤„ç†çš„å‡­è¯","slug":"å¸¦æ•°æ®å¤„ç†çš„å‡­è¯","link":"#å¸¦æ•°æ®å¤„ç†çš„å‡­è¯","children":[]},{"level":3,"title":"å¸¦è‡ªå®šä¹‰å‚æ•°çš„å‡­è¯","slug":"å¸¦è‡ªå®šä¹‰å‚æ•°çš„å‡­è¯","link":"#å¸¦è‡ªå®šä¹‰å‚æ•°çš„å‡­è¯","children":[]},{"level":3,"title":"ç»¼åˆä¸Šä¼ å‡­è¯","slug":"ç»¼åˆä¸Šä¼ å‡­è¯","link":"#ç»¼åˆä¸Šä¼ å‡­è¯","children":[]},{"level":3,"title":"æœåŠ¡ç«¯ç›´ä¼ ","slug":"æœåŠ¡ç«¯ç›´ä¼ ","link":"#æœåŠ¡ç«¯ç›´ä¼ ","children":[]}]},{"level":2,"title":"å‚è€ƒæ–‡æ¡£","slug":"å‚è€ƒæ–‡æ¡£","link":"#å‚è€ƒæ–‡æ¡£","children":[]}],"git":{"createdTime":1697724028000,"updatedTime":1710339087000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":5.01,"words":1503},"filePathRelative":"middleware/oss/qiniuyuncunchu.md","localizedDate":"2022å¹´1æœˆ16æ—¥","excerpt":"<h2>ä»‹ç»</h2>\\n<p>C## SDK å±äºæœåŠ¡ç«¯SDKä¹‹ä¸€ï¼Œä¸»è¦æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š</p>\\n<ul>\\n<li>æä¾›ç”Ÿæˆå®¢æˆ·ç«¯ä¸Šä¼ æ‰€éœ€çš„ä¸Šä¼ å‡­è¯çš„åŠŸèƒ½</li>\\n<li>æä¾›æ–‡ä»¶ä»æœåŠ¡ç«¯ç›´æ¥ä¸Šä¸ƒç‰›çš„åŠŸèƒ½</li>\\n<li>æä¾›å¯¹ä¸ƒç‰›ç©ºé—´ä¸­æ–‡ä»¶è¿›è¡Œç®¡ç†çš„åŠŸèƒ½</li>\\n<li>æä¾›å¯¹ä¸ƒç‰›ç©ºé—´ä¸­æ–‡ä»¶è¿›è¡Œå¤„ç†çš„åŠŸèƒ½</li>\\n<li>æä¾›ä¸ƒç‰›CDNç›¸å…³çš„åˆ·æ–°ï¼Œé¢„å–ï¼Œæ—¥å¿—åŠŸèƒ½</li>\\n</ul>\\n<h2>æ“ä½œ</h2>\\n<h3>å®¢æˆ·ç«¯ä¸Šä¼ å‡­è¯</h3>\\n<p>å®¢æˆ·ç«¯ï¼ˆç§»åŠ¨ç«¯æˆ–è€…Webç«¯ï¼‰ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™ï¼Œéœ€è¦ä»å®¢æˆ·è‡ªå·±çš„ä¸šåŠ¡æœåŠ¡å™¨è·å–ä¸Šä¼ å‡­è¯ï¼Œè€Œè¿™äº›ä¸Šä¼ å‡­è¯æ˜¯é€šè¿‡æœåŠ¡ç«¯çš„SDKæ¥ç”Ÿæˆçš„ï¼Œç„¶åé€šè¿‡å®¢æˆ·è‡ªå·±çš„ä¸šåŠ¡APIåˆ†å‘ç»™å®¢æˆ·ç«¯ä½¿ç”¨ã€‚æ ¹æ®ä¸Šä¼ çš„ä¸šåŠ¡éœ€æ±‚ä¸åŒï¼Œc## SDKæ”¯æŒä¸°å¯Œçš„ä¸Šä¼ å‡­è¯ç”Ÿæˆæ–¹å¼ã€‚\\nåˆ›å»ºå„ç§ä¸Šä¼ å‡­è¯ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å¥½å…¶ä¸­é‰´æƒå¯¹è±¡macï¼š</p>","autoDesc":true}');export{g as comp,q as data};
