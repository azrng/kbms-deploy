import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,d as n}from"./app-41nmD-Ik.js";const e="/kbms/soft/a5ef7ca6bc7842419734f7f403946d62.png",t="/kbms/soft/b75760d1815c4512adbf2ff69dc18265.png",l="/kbms/soft/e1a777ed966749399b6075b8497b464b.png",h="/kbms/soft/18e098d9e5704f949b2c17d3cb65d553.png",p="/kbms/soft/d2d7bb6e27e14bd2803e904e59a33ed1.png",k="/kbms/soft/b2d7ba1bf55d43a6b9ac1fb9f4f94f02.png",r="/kbms/soft/a38c174edc274fef89b79cbd412b1d78.png",d="/kbms/soft/a7bbf3581f14433497885edf1a7c05fb.png",g="/kbms/soft/88a0224156124d62b0eff11ad046188a.png",c="/kbms/soft/1408d9b04f8d4e0d81d3013e6533ec2e.png",o="/kbms/soft/f6e3c303aa0e40cdbe705e588ebf9ee7.png",m="/kbms/soft/1bef194077a448a38888fdd1ba4c6d46.png",b="/kbms/soft/01c8f09ff60e42afa1c0107bf3136e18.png",y="/kbms/soft/9f7b37829273485781ba11ed142f1401.png",B="/kbms/soft/4e957a61a6b344cdb6b661a3321c198f.png",u="/kbms/soft/5d181ac981d34ddca81c5b908beb18b6.png",C="/kbms/soft/2a1ab5af57174058a234806d03399f5c.png",v="/kbms/soft/a965f6e35c7a417fb45d584fcedb1ff2.png",f="/kbms/soft/43bbbc5490c342d6842b9ef485c6190e.png",E="/kbms/soft/fa0f036049a1452492ae4d30663d8457.png",F="/kbms/soft/7f832b36c926435d9c64bcbe3eef875e.png",A="/kbms/soft/e4f53d2010424875a277b8a96045923c.png",_="/kbms/soft/edb085bca1b04448a2ce3959c1d3b59c.png",D={},x=n(`<h2 id="工具介绍" tabindex="-1"><a class="header-anchor" href="#工具介绍"><span>工具介绍</span></a></h2><p>注意：该部分介绍摘抄自：<a href="https://www.aiwanyun.cn/archives/174" target="_blank" rel="noopener noreferrer">https://www.aiwanyun.cn/archives/174</a></p><p>Prometheus、Grafana、Node Exporter 和Alertmanager是一组用于监控和可视化系统性能的开源工具。它们通常一起使用，形成一个强大的完整的监控和告警系统。 一般来说，这四个工具一起协作，形成了一个完整的监控和告警系统。Node Exporter用于收集主机级别的指标(本文暂未使用)，Prometheus存储和查询这些指标，Grafana提供可视化界面，而Alertmanager则负责管理和发送告警。整个系统的目标是帮助管理员和开发人员实时了解系统的状态、性能和健康状况，并在必要时采取措施。</p><h3 id="prometheus" tabindex="-1"><a class="header-anchor" href="#prometheus"><span>Prometheus</span></a></h3><p>Prometheus 是一种开源的系统监控和警报工具。它最初由 SoundCloud 开发，并成为 Cloud Native Computing Foundation（CNCF）的一部分。Prometheus 支持多维度的数据模型和强大的查询语言，使得用户可以轻松地收集和查询各种类型的监控数据。</p><h3 id="grafana" tabindex="-1"><a class="header-anchor" href="#grafana"><span>Grafana</span></a></h3><p>Grafana 是一个开源的数据可视化和监控平台。它提供了丰富的图表和仪表盘，可以将各种数据源的信息可视化展示。Grafana 支持多个数据源，包括 Prometheus、Graphite、InfluxDB 等，因此可以与各种监控系统集成，提供灵活且强大的可视化功能。</p><h3 id="alertmanager" tabindex="-1"><a class="header-anchor" href="#alertmanager"><span>Alertmanager</span></a></h3><p>Alertmanager 是 Prometheus 生态系统中的一个组件，负责处理和管理告警。当 Prometheus 检测到异常或达到某个预定的阈值时，它将生成告警并将其发送到 Alertmanager。Alertmanager 可以进行静默、分组、抑制和路由告警，并将它们发送到不同的接收端，如电子邮件、Slack 等</p><h2 id="netcore项目准备" tabindex="-1"><a class="header-anchor" href="#netcore项目准备"><span>.NetCore项目准备</span></a></h2><p>基于我的一个示例项目进行改造，项目地址：<a href="https://gitee.com/AZRNG/my-example" target="_blank" rel="noopener noreferrer">https://gitee.com/AZRNG/my-example</a> ，为了演示一个基本的监控效果，监控的数据也只是请求，具体生产环境需要监控什么业务，这个看具体情况了，这里需要在原来的项目基础上需要安装以下nuget包</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">PackageReference</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> Include</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;OpenTelemetry.Exporter.Prometheus.AspNetCore&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> Version</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;1.7.0-alpha.1&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">PackageReference</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> Include</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;OpenTelemetry.Extensions.Hosting&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> Version</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;1.7.0&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> /&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后就可以注入服务，这里只是举例操作</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">AddOpenTelemetry</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">WithMetrics</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">            builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">AddPrometheusExporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">            builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">AddMeter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Microsoft.AspNetCore.Hosting&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Microsoft.AspNetCore.Server.Kestrel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        });</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后记得要使用服务</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">MapPrometheusScrapingEndpoint</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>启动项目后访问 ip+ metrics访问页面 <img src="`+e+'" alt="image.png"> 然后将该示例项目使用docker部署到服务器上 ，如果要使用该示例项目，记得切换分支到develop，将项目拉取到服务器，然后进入项目目录，执行命令去生成容器</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">sudo</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> docker</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">compose</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> up</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>部署成功截图如下 <img src="'+t+'" alt="image.png"> 访问地址 <a href="http://192.168.82.163:8001/metrics" target="_blank" rel="noopener noreferrer">http://192.168.82.163:8001/metrics</a><img src="'+l+'" alt="image.png"></p><h2 id="安装监控和可视化程序" tabindex="-1"><a class="header-anchor" href="#安装监控和可视化程序"><span>安装监控和可视化程序</span></a></h2><p>准备一个服务器，提前安装好了docker以及docker-compose程序，版本示例如下 <img src="'+h+`" alt="image.png"> 关于Prometheus和Grafana可以通过docker进行安装到服务器中，可以参考仓库：<a href="https://gitee.com/AZRNG/common-docker-yaml" target="_blank" rel="noopener noreferrer">https://gitee.com/AZRNG/common-docker-yaml</a></p><h3 id="安装prometheus" tabindex="-1"><a class="header-anchor" href="#安装prometheus"><span>安装Prometheus</span></a></h3><p>因为这里我只是用于做demo演示效果，所以我并没有取考虑挂在的问题，生产环境使用记得挂载数据</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;3&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  prometheus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: ## </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">访问</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">：</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">//localhost:9090/targets</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   image</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">prom</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">prometheus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">v2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">37.6</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">prometheus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   command</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;--config.file=/etc/prometheus/prometheus.yml&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;--storage.tsdb.path=/prometheus&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;--web.console.libraries=/usr/share/prometheus/console_libraries&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;--web.console.templates=/usr/share/prometheus/consoles&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;--web.external-url=http://localhost:9090/&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;--web.enable-lifecycle&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;--storage.tsdb.retention=15d&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     #- /etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> .</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">config</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">prometheus</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">etc</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">prometheus</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     #- ./data/prometheus:/prometheus</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 9090</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">9090</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   links</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> alertmanager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">alertmanager</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  alertmanager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: ## </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">告警服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   image</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">prom</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">alertmanager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">v0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">25.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">alertmanager</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 9093</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">9093</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    ##  - /etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> .</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">config</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">prometheus</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">etc</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">alertmanager</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">   command</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;--config.file=/etc/alertmanager/alertmanager.yml&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">     -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;--storage.path=/alertmanager&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关于prometheus.yml内容如下</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">## 全局配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">global</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  scrape_interval</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">15s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  evaluation_interval</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">15s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ## scrape_timeout is set to the global default (10s).</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">## 告警配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">alerting</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  alertmanagers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">    -</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> static_configs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">        -</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> targets</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">localhost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:9093&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">## 加载一次规则，并根据全局“评估间隔”定期评估它们。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">rule_files</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;/config/rules.yml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">## 控制Prometheus监视哪些资源</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">## 默认配置中，有一个名为prometheus的作业，它会收集Prometheus服务器公开的时间序列数据。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">scrape_configs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ## 作业名称将作为标签“job=&lt;job_name&gt;\`添加到此配置中获取的任何数据。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">  -</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> job_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;prometheus&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">    static_configs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">      -</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> targets</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">localhost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:9090&#39;]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">  -</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> job_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;node&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ## .</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">NetCore服务地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">    static_configs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">      -</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> targets</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">localhost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:9100&#39;]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">        labels</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">          env</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">          role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>alertmanager.yml文件，我并没有做配置，暂时搞了一个默认的</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">global</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  resolve_timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">5m</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  smtp_smarthost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;xxx@xxx:587&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  smtp_from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;zhaoysz@xxx&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  smtp_auth_username</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;xxx@xxx&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  smtp_auth_password</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;xxxx&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  smtp_require_tls</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  group_by</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">alertname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&#39;]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  group_wait</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">10s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  group_interval</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">10s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  repeat_interval</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">1h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  receiver</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;test-mails&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">receivers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;test-mails&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  email_configs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">  -</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;scottcho@qq.com&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>rule.yml文件内容如下</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">groups</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">example</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">  rules</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ## Alert for any instance that is unreachable for &gt;5 minutes.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">  -</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> alert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">InstanceDown</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">    expr</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">up</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: 1m</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    labels:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      serverity: page</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    annotations:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      summary: &quot;Instance {{ $labels.instance }} down&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      description: &quot;{{ $labels.instance }} of job {{ $labels.job }} has been down for more than 5 minutes.&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后就可以运行docker-compose命令去生成容器，示例如下 <img src="`+p+'" alt="image.png"></p><p>然后访问Ip地址加端口访问页面，比如http://192.168.81.139:9090/ <img src="'+k+'" alt="image.png"> 打开这个界面就说明安装好了，这个时候我们看下 <a href="http://192.168.81.139:9090/targets?search=" target="_blank" rel="noopener noreferrer">http://192.168.81.139:9090/targets?search=</a> 页面 <img src="'+r+'" alt="image.png"> 这个node报错是因为这个地址是无效了，那么修改为真是.NetCore的服务地址，修改配置文件然后重新启动 <img src="'+d+'" alt="image.png"> 重启后界面显示如下 <img src="'+g+'" alt="image.png"></p><h3 id="安装granfana" tabindex="-1"><a class="header-anchor" href="#安装granfana"><span>安装Granfana</span></a></h3><p>这里直接使用docker来安装grafana</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">sudo</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> run</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> grafana</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 8000</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> grafana</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">grafana</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后访问地址 ip+ 8000，默认账号密码为admin/admin <img src="'+c+'" alt="image.png"> 添加数据源 <img src="'+o+'" alt="image.png"><img src="'+m+'" alt="image.png"> 填写prometheus地址 <img src="'+b+'" alt="image.png"></p><h2 id="导入仪表盘" tabindex="-1"><a class="header-anchor" href="#导入仪表盘"><span>导入仪表盘</span></a></h2><p>创建文件夹用来存放我们本地的要导入的文件 <img src="'+y+'" alt="image.png"><img src="'+B+'" alt="image.png"> 想要在Grafana中进行数据的展示，需要导入dashborards模板，本文的模板我是从微软仓库找到的，地址为：<a href="https://github.com/dotnet/aspire/tree/main/src/Grafana" target="_blank" rel="noopener noreferrer">https://github.com/dotnet/aspire/tree/main/src/Grafana</a><img src="'+u+'" alt="image.png"> 分别点进去下载这两个仪表盘对应的的json文件即可，也可以去我common-docker-yaml仓库中下载 <img src="'+C+'" alt="image.png"> 然后导入json文件 <img src="'+v+'" alt="image.png"> 导入aspnetcore.json文件，并选择我们的netcore文件夹以及选择刚刚我们创建的Prometheus数据源</p><p><img src="'+f+'" alt="image.png"> 导入aspnetcore-endpoint.json文件 <img src="'+E+'" alt="image.png"> 这个时候我们就看到了好看的仪表盘 <img src="'+F+'" alt="image.png"><img src="'+A+'" alt="image.png"> 当我点击接口让其报错，那么就显示到界面上 <img src="'+_+'" alt="image.png"> 如果需要监控其他内容，也可以模仿着进行修改。</p>',39),w=[x];function z(P,N){return a(),i("div",null,w)}const G=s(D,[["render",z],["__file","openTelemetryStartedCombat.html.vue"]]),O=JSON.parse('{"path":"/middleware/smallService/distributedObservability/distributedMonitoring/openTelemetryStartedCombat.html","title":"OpenTelemetry快速开始","lang":"zh-CN","frontmatter":{"title":"OpenTelemetry快速开始","lang":"zh-CN","date":"2023-09-29T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["middleware"],"tag":["OpenTelemetry"],"description":"工具介绍 注意：该部分介绍摘抄自：https://www.aiwanyun.cn/archives/174 Prometheus、Grafana、Node Exporter 和Alertmanager是一组用于监控和可视化系统性能的开源工具。它们通常一起使用，形成一个强大的完整的监控和告警系统。 一般来说，这四个工具一起协作，形成了一个完整的监控和告警...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/middleware/smallService/distributedObservability/distributedMonitoring/openTelemetryStartedCombat.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"OpenTelemetry快速开始"}],["meta",{"property":"og:description","content":"工具介绍 注意：该部分介绍摘抄自：https://www.aiwanyun.cn/archives/174 Prometheus、Grafana、Node Exporter 和Alertmanager是一组用于监控和可视化系统性能的开源工具。它们通常一起使用，形成一个强大的完整的监控和告警系统。 一般来说，这四个工具一起协作，形成了一个完整的监控和告警..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://azrng.gitee.io/kbms/kbms/soft/a5ef7ca6bc7842419734f7f403946d62.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-02T08:43:04.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"OpenTelemetry"}],["meta",{"property":"article:published_time","content":"2023-09-29T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-02T08:43:04.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"OpenTelemetry快速开始\\",\\"image\\":[\\"https://azrng.gitee.io/kbms/kbms/soft/a5ef7ca6bc7842419734f7f403946d62.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/b75760d1815c4512adbf2ff69dc18265.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/e1a777ed966749399b6075b8497b464b.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/18e098d9e5704f949b2c17d3cb65d553.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/d2d7bb6e27e14bd2803e904e59a33ed1.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/b2d7ba1bf55d43a6b9ac1fb9f4f94f02.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/a38c174edc274fef89b79cbd412b1d78.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/a7bbf3581f14433497885edf1a7c05fb.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/88a0224156124d62b0eff11ad046188a.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/1408d9b04f8d4e0d81d3013e6533ec2e.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/f6e3c303aa0e40cdbe705e588ebf9ee7.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/1bef194077a448a38888fdd1ba4c6d46.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/01c8f09ff60e42afa1c0107bf3136e18.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/9f7b37829273485781ba11ed142f1401.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/4e957a61a6b344cdb6b661a3321c198f.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/5d181ac981d34ddca81c5b908beb18b6.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/2a1ab5af57174058a234806d03399f5c.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/a965f6e35c7a417fb45d584fcedb1ff2.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/43bbbc5490c342d6842b9ef485c6190e.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/fa0f036049a1452492ae4d30663d8457.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/7f832b36c926435d9c64bcbe3eef875e.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/e4f53d2010424875a277b8a96045923c.png\\",\\"https://azrng.gitee.io/kbms/kbms/soft/edb085bca1b04448a2ce3959c1d3b59c.png\\"],\\"datePublished\\":\\"2023-09-29T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-02T08:43:04.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"工具介绍","slug":"工具介绍","link":"#工具介绍","children":[{"level":3,"title":"Prometheus","slug":"prometheus","link":"#prometheus","children":[]},{"level":3,"title":"Grafana","slug":"grafana","link":"#grafana","children":[]},{"level":3,"title":"Alertmanager","slug":"alertmanager","link":"#alertmanager","children":[]}]},{"level":2,"title":".NetCore项目准备","slug":"netcore项目准备","link":"#netcore项目准备","children":[]},{"level":2,"title":"安装监控和可视化程序","slug":"安装监控和可视化程序","link":"#安装监控和可视化程序","children":[{"level":3,"title":"安装Prometheus","slug":"安装prometheus","link":"#安装prometheus","children":[]},{"level":3,"title":"安装Granfana","slug":"安装granfana","link":"#安装granfana","children":[]}]},{"level":2,"title":"导入仪表盘","slug":"导入仪表盘","link":"#导入仪表盘","children":[]}],"git":{"createdTime":1709368984000,"updatedTime":1709368984000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":5.2,"words":1561},"filePathRelative":"middleware/smallService/distributedObservability/distributedMonitoring/openTelemetryStartedCombat.md","localizedDate":"2023年9月29日","excerpt":"<h2>工具介绍</h2>\\n<p>注意：该部分介绍摘抄自：<a href=\\"https://www.aiwanyun.cn/archives/174\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://www.aiwanyun.cn/archives/174</a></p>\\n<p>Prometheus、Grafana、Node Exporter 和Alertmanager是一组用于监控和可视化系统性能的开源工具。它们通常一起使用，形成一个强大的完整的监控和告警系统。 一般来说，这四个工具一起协作，形成了一个完整的监控和告警系统。Node Exporter用于收集主机级别的指标(本文暂未使用)，Prometheus存储和查询这些指标，Grafana提供可视化界面，而Alertmanager则负责管理和发送告警。整个系统的目标是帮助管理员和开发人员实时了解系统的状态、性能和健康状况，并在必要时采取措施。</p>","autoDesc":true}');export{G as comp,O as data};
