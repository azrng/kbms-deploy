import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,d as n}from"./app-BOMGqs3_.js";const l="/kbms/common/1609926463639-1df92a87-d620-41bf-a041-9b218f3700ff.png",h="/kbms/common/1609926463623-9b4e676f-d191-46b2-802a-0b65d1b871cb.png",k="/kbms/common/1609926463655-05b929cf-34fb-41b4-add9-ea6103212aa0.png",e="/kbms/common/1609926463614-68158a09-1fac-4e33-904c-c17e82e450e3.png",t={},p=n(`<h2 id="连接" tabindex="-1"><a class="header-anchor" href="#连接"><span>连接</span></a></h2><ul><li>数据库安装完成后，后台管理网址：<a href="https://localhost:1158/em" target="_blank" rel="noopener noreferrer">https://localhost:1158/em</a>使用用户名sys，口令是自己设置的（123456），连接身份选择sysdba，然后可以进入。服务器安装后，默认有两个用户：sys权限最高的用户，相当于超级用户；system系统管理员，相当于高级用户；</li><li>可以在上面给予的那个网站上面新建表空间。新建表空间，实际就是新建个存储文件，这里写的是文件的名称。</li><li>新开一个项目，需要使用oracle去创建一个数据库，然后创建好的这个数据库是一个系统数据库，包含了许多系统的表，我们需要在这个系统数据库中创建用户，然后使用这个用户去连接，然后创建用户表</li></ul><h2 id="系统操作" tabindex="-1"><a class="header-anchor" href="#系统操作"><span>系统操作</span></a></h2><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">## oracle使用命令（cmd）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">##使用orabusonline用户进行登录 （LEAPPTEST是服务器名称，rhtjsb是口令）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">sqlplus  LEAPPTEST</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">rhtjsb </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sysdba</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">##删除用户（该用户包含数据的情况下的删除语句）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">drop</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> DYZHCSYKT cascade（需要把当前用户连接断开）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">##切换用户登录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">conn orabusonline</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Dyzhcs2019jsb </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sysdba;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">##创建表空间 （一个表空间只能属于一个数据库，一个数据文件只能属于一个表空间。）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> tablespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> CCEN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> datafile </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;E:\\app\\Administrator\\admin\\tablespace\\CCEN.DBF&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  1000M autoExtend </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">##创建临时表空间</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> temporary tablespace CCEN_TMP  tempfile </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;E:\\app\\Administrator\\admin\\tablespace_tmp\\CCEN_temp.dbf&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  1000M autoExtend </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">##创建用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> DYZHCSYKT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  IDENTIFIED </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> DYZHCSYKT </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tablespace CCEN temporary tablespace CCEN_TMP;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">##给用户赋予权限</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">grant</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> connect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">resource</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,dba </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> DYZHCSYKT;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">#查询当前数据库中的表空间</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">tablespace_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">round</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">SUM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(bytes </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1024</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)), </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) ts_size </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dba_tablespaces t, dba_data_files d </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">tablespace_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">tablespace_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> GROUP BY</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">tablespace_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">#查询数据库的临时表空间</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tablespace_name,file_name,bytes</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> file_size,autoextensible </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dba_temp_files;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">#查询数据库软件的信息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> v$</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">version</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">#查询当前登录用户所属的默认表空间和临时表空间</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> username,default_tablespace,temporary_tablespace </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dba_users </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> username</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;ORACLEICBC&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">#查询逻辑目录</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dba_directories</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 查询字符集</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> V$NLS_PARAMETERS</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="程序连接" tabindex="-1"><a class="header-anchor" href="#程序连接"><span>程序连接</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># jdbc 连接数据库 localhost:1521 表示数据库的地址和端口号，mydatabase 是数据库的服务名或 SID</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">jdbc:oracle:thin:@localhost:1521:mydatabase?user</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=myusername</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">password</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">mypassword</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="用户" tabindex="-1"><a class="header-anchor" href="#用户"><span>用户</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">WIN</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">R打开运行窗口，输入cmd进入命令行: 输入sqlplus ,输入用户名,输入口令(如果是超级管理员SYS的话需在口令之后加上as sysdba)进入sql命令行；</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">输入“</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> username </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dba_users”查看用户列表。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">创建用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> user</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> 用户名</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> identity</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> by</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 口令</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">[即密码]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">；</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">或者</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> user</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> lihua</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">identified </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> lihua</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tablespace schooltbs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">temporary tablespace temp;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">修改用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 用户名 identified </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  口令</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">[改变的口令]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">；</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">或者</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> lihua</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">identified </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 123</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tablespace users;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">删除用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Drop</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 用户名；</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">若用户拥有对象，则不能直接删除，否则将返回一个错误值。指定关键字casade，可删除用户的所有对象，然后再删除用户。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">语法：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">drop</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> user 用户名 cascade；</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">给用户赋予权限</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">grant</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 权限 </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 用户; </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">grant</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> connect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">resource</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> to</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> zhou; </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">connect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">resource</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 是角色，角色有多个权限 </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">切换登录的用户：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">connect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">passwrod； </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">锁定用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> lihua account lock|</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">unlock</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">查询当前登录用户所属的默认表空间和临时表空间</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> username,default_tablespace,temporary_tablespace </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dba_users </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> username</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;ORACLEICBC&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">创建表语句：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">--在测试用户jingyu下创建测试表book2 drop table book2 purge;create table book2( bookId number(10) primary key, namevarchar2(20) ); --创建序列drop sequence book2_seq; create sequence book2_seq start with 1 increment by 1; --创建触发器create or replace triggerbook2_trigger before insert on book2 for each row begin select book2_seq.nextval into :new.bookId fromdual; end ; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">oracle为兼容以前版本，提供三种标准角色（</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">）:</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">connect</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">resource和dba.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">●  </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">connect</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(连接角色)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">–临时用户，特指不需要建表的用户，通常只赋予他们connect </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">–connect是使用oracle简单权限，这种权限只对其他用户的表有访问权限，包括select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">insert</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">update和delete等。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">–拥有connect </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 的用户还能够创建表、视图、序列（</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">sequence</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">）、簇（cluster）、同义词(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">synonym</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)、回话（</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">）和其他 数据的链（link）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">●  </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">resource</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(资源角色)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">–更可靠和正式的数据库用户可以授予resource </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">–resource提供给用户另外的权限以创建他们自己的表、序列、过程(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">procedure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)、触发器(trigger)、索引(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)和簇(cluster)。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">●  dba </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(数据库管理员角色)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">–dba role拥有所有的系统权限</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">–包括无限制的空间限额和给其他用户授予各种权限的能力。system由dba用户拥有</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  (</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)创建角色</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Create</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 角色名；</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">（</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">）授权命令</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Grant</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> connect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">resource</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> to</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 用户名;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">授予所有权限：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Grant</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dba </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> zyp；</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">（</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">）撤销权限</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Revoke</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> connect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">resource</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 用户名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="磁盘统计" tabindex="-1"><a class="header-anchor" href="#磁盘统计"><span>磁盘统计</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 查询数据库磁盘占用</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(bytes)</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;size(G)&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dba_data_files；</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 查询指定数据库下表的磁盘大小</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> owner</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> SchemaName,table_name tableName,(blocks</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> diskSize </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dba_tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  OWNER</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;EMRMIX&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 查询指定数据库下的表的数据量</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> owner</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> SchemaName,table_name tableName,NVL(num_rows,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)  RecordNumber </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dba_tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  OWNER</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;EMRMIX&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 查询指定数据库下指定表的列信息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">COLUMN_NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                                AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ColName,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">DATA_TYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                                  AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ColType,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">CHAR_COL_DECL_LENGTH</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                       AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ColLength,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">DATA_DEFAULT</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                               AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ColDefault,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       b</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">COMMENTS</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                                   as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ColComment,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                                            as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> IsIdentity,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">       (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">case</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">NULLABLE</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> when</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;Y&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> then</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> else</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> end</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> Is_Null</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> all_tab_columns a</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">         INNER JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> all_col_comments b </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">table_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">table_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">column_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">column_name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">owner</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;EMRMIX&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">table_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;CP_BRANCH_PATH&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">；</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 查询指定数据库下指定表的磁盘占用大小</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">owner</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">                     schemaName,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">table_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">                tableName,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">COLUMN_NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            columnName,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">       SUM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(LENGTHB(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">COLUMN_NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)) diskSize</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> all_tab_columns a</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">         INNER JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> all_col_comments b </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">table_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">table_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">column_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">column_name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">owner</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;EMRMIX&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  AND</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">table_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;CP_BRANCH_PATH&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">group by</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">owner</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">table_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">COLUMN_NAME</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="数据库" tabindex="-1"><a class="header-anchor" href="#数据库"><span>数据库</span></a></h2><h3 id="基础操作" tabindex="-1"><a class="header-anchor" href="#基础操作"><span>基础操作</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、创建数据库</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     create</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> database</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> databasename</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、删除数据库</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     drop</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> database</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dbname</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">SPACE monitor INCLUDING CONTENTS </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">AND</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> DATAFILES;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="表" tabindex="-1"><a class="header-anchor" href="#表"><span>表</span></a></h2><h3 id="表空间" tabindex="-1"><a class="header-anchor" href="#表空间"><span>表空间</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 创建表空间 （一个表空间只能属于一个数据库，一个数据文件只能属于一个表空间。）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> tablespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> CCEN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> datafile </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;E:\\app\\Administrator\\admin\\tablespace\\CCEN.DBF&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  1000M autoExtend </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 创建临时表空间</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> temporary tablespace CCEN_TMP  tempfile </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;E:\\app\\Administrator\\admin\\tablespace_tmp\\CCEN_temp.dbf&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  1000M autoExtend </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 删除表空间</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">drop</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">space schooltbs </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">--只是把表空间给删除了</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">drop</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">space a including contents </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> datafiles;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">--(包括文件)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 查询表空间的基本信息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *||</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">tablespace_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> DBA_TABLESPACES;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">修改表空间</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">改变数据文件大小</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> database</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> datafile ‘e:\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">dbf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">’ resize(调整大小) 100m; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">修改表空间</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">添加数据文件（往表空间a中添加）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> tablespace</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> a</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    2</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> datafile ‘e:\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">dbf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">’</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    3</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 20m;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">允许文件自动扩展</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> tablespace</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> datafile ‘e:\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">dbf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">’</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> autoextend </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> next</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 10m maxsize 20m;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="表操作" tabindex="-1"><a class="header-anchor" href="#表操作"><span>表操作</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">查询数据库中所有用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> all_users;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">创建表</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     create</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> tabname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(col1 type1 </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">[not null]</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> [primary key]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,col2 type2 </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">[not null]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,..)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     根据已有的表创建新表：</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     A：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> into</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> table_new </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> table_old (使用旧表创建新表)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     B：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tab_new </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> col1,col2… </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tab_old </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">definition</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> only</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">仅适用于Oracle</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、删除表</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     drop</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tabname</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、重命名表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     说明：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 表名 rename </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 新表名</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        eg：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tablename rename </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> newtablename</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、增加字段</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     说明：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 表名 </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (字段名 字段类型 默认值 是否为空);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        例：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tablename </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (ID </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">       eg：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tablename </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (ID </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">varchar2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;空&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> not null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、修改字段</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     说明：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 表名 </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">modify</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (字段名 字段类型 默认值 是否为空);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        eg：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tablename </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">modify</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (ID </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、重名字段</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     说明：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 表名 rename column 列名 </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 新列名 （其中：column是关键字）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        eg：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tablename rename column ID </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> newID;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、删除字段</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     说明：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 表名 </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">drop</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> column 字段名;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        eg：</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tablename </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">drop</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> column ID;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、添加主键</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tabname </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> primary key</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(col)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、删除主键</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tabname </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">drop</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> primary key</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(col)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、创建索引</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     create</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> [unique]</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> index</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> idxname </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> tabname(col….)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、删除索引</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     drop</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> index</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> idxname</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     注：索引是不可更改的，想更改必须删除重新建。</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、创建视图</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     create</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> viewname</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> statement</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">、删除视图</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     drop</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> view</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> viewname</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">查询一个数据库用户下有多少张表</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> count</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> user_tables ;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">查询一个数据库用户下的空表</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> table_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> user_tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> NUM_ROWS</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dual" tabindex="-1"><a class="header-anchor" href="#dual"><span>DUAL</span></a></h3><p>该表是一个伪表</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 比如要生成一个订单号：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> seq_rec_tradeno_id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">nextval</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> DUAL</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="id自增" tabindex="-1"><a class="header-anchor" href="#id自增"><span>ID自增</span></a></h3><p>ORACLE实现id自增长，需要三个步骤。 （1）创建序列。即，定义一个增长逻辑。 （2）创建触发器。即，将增长逻辑与列绑定，并说明何时触发增长逻辑。 （3）启动触发器。即，让绑定生效。</p><p>创建序列 （1）新建-&gt;数据库对象-&gt;序列 <img src="`+l+'" alt="image.png" loading="lazy"></p><p></p><p>（2）选择用户，填写序列名称，增长的初始值，最大值，递增值，递增方式等。 <img src="'+h+'" alt="image.png" loading="lazy"></p><p>创建触发器 （1）选择表，右键-&gt;触发器-&gt;创建（序列中的主键）</p><figure><img src="'+k+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>（2）为触发器命名，并选择之前创建的序列，之后，选择需要绑定的列。 <img src="'+e+`" alt="image.png" loading="lazy"></p><p>启动触发器 选择表，右键-&gt;触发器-&gt;全部启动。</p><p>至此，ID自增长设置完成。</p><h3 id="操作数据" tabindex="-1"><a class="header-anchor" href="#操作数据"><span>操作数据</span></a></h3><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" data-title="plsql" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 更新查询出来的数据</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> info1 t1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> info2 t2 </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> t1.</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> t2.</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> t1.age </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> t2.age, t1.class </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> t2.class</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 递归查询</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 向下递归第一种：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">start with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 子节点id </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39; 查询节点 &#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> connect by prior</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 子节点id </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 父节点id</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">--示例：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dept </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">start with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;1001&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> connet by prior id</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">pid;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 向下递归第二种：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">start with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 父节点id</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39; 查询节点 &#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  connect by prior</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 子节点id </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 父节点 id</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">--示例：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dept </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">start with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> pid</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;1001&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> connect by prior</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">pid;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 向上递归第三种：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">start with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 子节点id</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39; 查询节点 &#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> connect by prior</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 父节点id </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 子节点id</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 示例：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dept </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">start with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;1001&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> connect by prior</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> pid</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">id;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 向上递归第四种</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">start with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 父节点id</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39; 查询节点 &#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> connect by prior</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 父节点id </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 子节点id</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">-- 示例：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dept </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">start with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> pid</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;1001&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> connect by prior</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> pid</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">id;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="序列" tabindex="-1"><a class="header-anchor" href="#序列"><span>序列</span></a></h2><h3 id="创建序列" tabindex="-1"><a class="header-anchor" href="#创建序列"><span>创建序列</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> SEQUENCE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">DYZHCSLEAPP</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&quot;.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;SEQ_CITY&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  MINVALUE </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> MAXVALUE </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">9999999999999999999999999999</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> INCREMENT </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> START</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> WITH</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 26</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> NOCACHE  NOORDER NOCYCLE ;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">minvalue </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        --最小值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">nomaxvalue        </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">--不设置最大值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">start</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> with</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      --从1开始计数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">increment </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    --每次加1个</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">nocycle           </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">--一直累加，不循环</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">nocache;          </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">--不建缓冲区</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">测试序列：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> SEQUENCE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">DYZHCSLEAPP</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&quot;.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;SEQUENCE1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  MINVALUE </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> MAXVALUE </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> INCREMENT </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> START</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> WITH</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CACHE </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ORDER  NOCYCLE ;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改序列值" tabindex="-1"><a class="header-anchor" href="#修改序列值"><span>修改序列值</span></a></h3><p>很多时候，我们都会用到oracle序列，那么我们怎么修改序列的当前值呢？ 首先我们可以查看当前序列值是多少，如下： select 序列名.nextval from dual; 比方说我现在查出来值是10，那么我要把当前值改成8，那么可以这么改： alter sequence 序列名 increment by -2; 如果我需要把当前值改成15，那么可以这么改： alter sequence 序列名 increment by 5;</p><p>上述是通过修改当前序列增量长度间隔值，用于修改当前序列值，增加1或-1或n或-n，当修改好当前值之后，记得一定要把序列增量改回来，改为1：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> sequence</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 序列名 increment </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="导入导出" tabindex="-1"><a class="header-anchor" href="#导入导出"><span>导入导出</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>导出数据库</span></span>
<span class="line"><span>exptianzhi_smart/tianzhi_smart@192.168.56.60:1521/orclfile=&#39;E:\\tianzhi_smart.dmp&#39;;</span></span>
<span class="line"><span>导入数据库</span></span>
<span class="line"><span>imp tianzhi_smart/tianzhi_smart@192.168.10.129:1521/orclfile=&#39;E:\\tianzhi_smart.dmp&#39; full=y;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>● 完全备份</span></span>
<span class="line"><span>     exp system/111111@ORACLE file=d:\\daochu.dmp full=y</span></span>
<span class="line"><span>     exp demo/demo@orcl buffer=1024 file=d：\\back.dmp full=y</span></span>
<span class="line"><span>     demo：用户名、密码</span></span>
<span class="line"><span>     buffer: 缓存大小</span></span>
<span class="line"><span>     file: 具体的备份文件地址</span></span>
<span class="line"><span>     full: 是否导出全部文件</span></span>
<span class="line"><span>     ignore: 忽略错误，如果表已经存在，则也是覆盖</span></span>
<span class="line"><span>● 将数据库中system用户与sys用户的表导出</span></span>
<span class="line"><span>     exp demo/demo@orcl file=d:\\backup\\1.dmp owner=(system,sys)</span></span>
<span class="line"><span>● 导出指定的表</span></span>
<span class="line"><span>     exp demo/demo@orcl file=d:\\backup2.dmp tables=(teachers,students)</span></span>
<span class="line"><span>● 按过滤条件，导出</span></span>
<span class="line"><span>     exp demo/demo@orcl file=d：\\back.dmp tables=（table1） query=\\&quot; where filed1 like &#39;fg%&#39;\\&quot;</span></span>
<span class="line"><span>     导出时可以进行压缩；命令后面 加上 compress=y ；如果需要日志，后面： log=d:\\log.txt</span></span>
<span class="line"><span>● 备份远程服务器的数据库</span></span>
<span class="line"><span>     exp 用户名/密码@远程的IP:端口/实例 file=存放的位置:\\文件名称.dmp full=y</span></span>
<span class="line"><span>4、数据库还原</span></span>
<span class="line"><span>     打开cmd直接执行如下命令，不用再登陆sqlplus。</span></span>
<span class="line"><span>● 完整还原</span></span>
<span class="line"><span>● 如果是本机那么使用</span></span>
<span class="line"><span>● imp test/t123456 file=&quot;F:\\databaseBeiFen\\daochu.DMP&quot;  full=y;</span></span>
<span class="line"><span>     imp demo/demo@orcl file=d:\\back.dmp full=y ignore=y log=D:\\implog.txt</span></span>
<span class="line"><span>     指定log很重要，便于分析错误进行补救。</span></span>
<span class="line"><span>● 导入指定表</span></span>
<span class="line"><span>     imp demo/demo@orcl file=d:\\backup2.dmp tables=(teachers,students)</span></span>
<span class="line"><span>● 还原到远程服务器</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>     imp 用户名/密码@远程的IP:端口/实例 file=存放的位置:\\文件名称.dmp full=y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,42),d=[p];function r(B,g){return a(),i("div",null,d)}const c=s(t,[["render",r],["__file","jichucaozuo.html.vue"]]),A=JSON.parse('{"path":"/dataBase/oracle/jichucaozuo.html","title":"基础操作","lang":"zh-CN","frontmatter":{"title":"基础操作","lang":"zh-CN","date":"2023-09-23T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["dataBase"],"tag":["无"],"filename":"jichucaozuo","slug":"rnlfn5","docsId":"29712737","description":"连接 数据库安装完成后，后台管理网址：https://localhost:1158/em使用用户名sys，口令是自己设置的（123456），连接身份选择sysdba，然后可以进入。服务器安装后，默认有两个用户：sys权限最高的用户，相当于超级用户；system系统管理员，相当于高级用户； 可以在上面给予的那个网站上面新建表空间。新建表空间，实际就是新建...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/dataBase/oracle/jichucaozuo.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"基础操作"}],["meta",{"property":"og:description","content":"连接 数据库安装完成后，后台管理网址：https://localhost:1158/em使用用户名sys，口令是自己设置的（123456），连接身份选择sysdba，然后可以进入。服务器安装后，默认有两个用户：sys权限最高的用户，相当于超级用户；system系统管理员，相当于高级用户； 可以在上面给予的那个网站上面新建表空间。新建表空间，实际就是新建..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://azrng.gitee.io/kbms/kbms/common/1609926463639-1df92a87-d620-41bf-a041-9b218f3700ff.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-12-14T10:39:38.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2023-09-23T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-12-14T10:39:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"基础操作\\",\\"image\\":[\\"https://azrng.gitee.io/kbms/kbms/common/1609926463639-1df92a87-d620-41bf-a041-9b218f3700ff.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1609926463623-9b4e676f-d191-46b2-802a-0b65d1b871cb.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1609926463655-05b929cf-34fb-41b4-add9-ea6103212aa0.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1609926463614-68158a09-1fac-4e33-904c-c17e82e450e3.png\\"],\\"datePublished\\":\\"2023-09-23T00:00:00.000Z\\",\\"dateModified\\":\\"2023-12-14T10:39:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"连接","slug":"连接","link":"#连接","children":[]},{"level":2,"title":"系统操作","slug":"系统操作","link":"#系统操作","children":[{"level":3,"title":"程序连接","slug":"程序连接","link":"#程序连接","children":[]},{"level":3,"title":"用户","slug":"用户","link":"#用户","children":[]},{"level":3,"title":"磁盘统计","slug":"磁盘统计","link":"#磁盘统计","children":[]}]},{"level":2,"title":"数据库","slug":"数据库","link":"#数据库","children":[{"level":3,"title":"基础操作","slug":"基础操作","link":"#基础操作","children":[]}]},{"level":2,"title":"表","slug":"表","link":"#表","children":[{"level":3,"title":"表空间","slug":"表空间","link":"#表空间","children":[]},{"level":3,"title":"表操作","slug":"表操作","link":"#表操作","children":[]},{"level":3,"title":"DUAL","slug":"dual","link":"#dual","children":[]},{"level":3,"title":"ID自增","slug":"id自增","link":"#id自增","children":[]},{"level":3,"title":"操作数据","slug":"操作数据","link":"#操作数据","children":[]}]},{"level":2,"title":"序列","slug":"序列","link":"#序列","children":[{"level":3,"title":"创建序列","slug":"创建序列","link":"#创建序列","children":[]},{"level":3,"title":"修改序列值","slug":"修改序列值","link":"#修改序列值","children":[]}]},{"level":2,"title":"导入导出","slug":"导入导出","link":"#导入导出","children":[]}],"git":{"createdTime":1695484404000,"updatedTime":1702550378000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":2},{"name":"zhangyunpeng","email":"zhang.yunpeng@synyi.com","commits":2}]},"readingTime":{"minutes":10.18,"words":3053},"filePathRelative":"dataBase/oracle/jichucaozuo.md","localizedDate":"2023年9月23日","excerpt":"<h2>连接</h2>\\n<ul>\\n<li>数据库安装完成后，后台管理网址：<a href=\\"https://localhost:1158/em\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://localhost:1158/em</a>使用用户名sys，口令是自己设置的（123456），连接身份选择sysdba，然后可以进入。服务器安装后，默认有两个用户：sys权限最高的用户，相当于超级用户；system系统管理员，相当于高级用户；</li>\\n<li>可以在上面给予的那个网站上面新建表空间。新建表空间，实际就是新建个存储文件，这里写的是文件的名称。</li>\\n<li>新开一个项目，需要使用oracle去创建一个数据库，然后创建好的这个数据库是一个系统数据库，包含了许多系统的表，我们需要在这个系统数据库中创建用户，然后使用这个用户去连接，然后创建用户表</li>\\n</ul>","autoDesc":true}');export{c as comp,A as data};
