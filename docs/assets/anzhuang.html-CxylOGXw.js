import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as a,d as e}from"./app-CVU83naM.js";const n="/kbms/common/1630392393921-c9133767-a427-43ac-b77a-96685c75485b.png",l="/kbms/common/1630392436742-b7a1a83e-d915-430d-a960-f1612a97a4e4.png",t="/kbms/common/1630392346545-d3be811e-20e6-4b75-85a2-1981b345a0af.png",h="/kbms/common/1630393079166-dcd56a70-64f3-41dd-8e48-4d97d69cbdf5.png",r="/kbms/common/1630393092662-6540ad2c-d30e-4bee-8dac-48b234344ede.png",p="/kbms/common/1630393112625-6ee295f7-70e6-4a1c-a3f0-194d972f223c.png",d="/kbms/common/1630393132266-4b5613af-43c7-41cf-88ec-da38a3db7e70.png",k="/kbms/common/1630393150839-203c3d29-88c8-4c59-9af1-273e8bce2933.png",g={},c=e(`<h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>Gitlab是利用 Ruby on Rails 一个开源的版本管理系统，实现一个自托管的Git项目仓库，可通过Web界面进行访问公开的或者私人项目。 Gitlab-CI就是一套配合GitLab使用的持续集成系统，GitLab8.0以后的版本是默认集成了GitLab-CI并且默认启用的。 Gitlab-Pages是一个go语言写的HTTP服务，原来只在Gitlab.com和Gitlab企业版中可用，在8.17版本的时候在Gitlab社区版支持。 Gitlab-Runner是配合GitLab-CI进行使用的，它是一个用来执行软件集成脚本的工具。</p><blockquote><p>来源：<a href="https://mp.weixin.qq.com/s/nqpXN75M5vMUtmzVcgewVg" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/nqpXN75M5vMUtmzVcgewVg</a></p></blockquote><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><h3 id="生成容器" tabindex="-1"><a class="header-anchor" href="#生成容器"><span>生成容器</span></a></h3><p>下面的脚本只是测试使用，不建议生产使用(像一些挂载的需要自行处理)</p><h4 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose"><span>docker-compose</span></a></h4><blockquote><p>安装Gitlab要求内存至少是4g</p></blockquote><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;3&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  gitlab</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;gitlab/gitlab-ce:14.10.2-ce.0&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">always</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">                  </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;www.mygitlab.com&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">      TZ</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;Asia/Shanghai&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">       </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">      GITLAB_OMNIBUS_CONFIG</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        external_url &#39;http://172.16.0.86:3000&#39;  ## web站点访问地址</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        gitlab_rails[&#39;gitlab_shell_ssh_port&#39;] = 2222</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;3000:3000&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> ## 注意宿主机和容器内部的端口要一致，否则external_url无法访问</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;8443:443&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;2222:22&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">./config:/etc/gitlab</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">./data:/var/opt/gitlab</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">./logs:/var/log/gitlab</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    logging</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">      driver</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;json-file&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">      options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">        max-size</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;2g&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">        max-file</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;2&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="docker" tabindex="-1"><a class="header-anchor" href="#docker"><span>docker</span></a></h4><p>这里是9006:9006是因为external_url 配置了9006，请往下看</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">## 挂载</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9443:443</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9006:9006</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9022:22</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gitlab</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> always</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /home/gitlab/config:/etc/gitlab</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /home/gitlab/logs:/var/log/gitlab</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /home/gitlab/data:/var/opt/gitlab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gitlab/gitlab-ce</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">## 不挂载</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9443:443</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 443:443</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9006:9006</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9022:22</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gitlab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gitlab/gitlab-ce</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">## windows挂载</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9443:443</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9006:9006</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9022:22</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gitlab</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  D:/Soft/gitlab/etcconfig:/etc/gitlab</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  gitlab/gitlab-ce</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>-d：后台运行 -p：将容器内部端口向外映射 --name：命名容器名称 -v：将容器内数据文件夹或者日志、配置等文件夹挂载到宿主机指定目录</p></blockquote><h3 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h3><p><img src="`+n+'" alt="image.png" loading="lazy"> 进入容器内去编辑配置或者编辑挂载目录的文件 <img src="'+l+`" alt="image.png" loading="lazy"></p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">docker exec -it gitlab bash</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">vi /etc/gitlab/gitlab.rb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>该文件要修改的配置是注释状态，所以直接可以在文件头部增加配置</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">external_url &#39;http://172.30.112.1:9006&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#ssh主机ip</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">gitlab_rails[&#39;gitlab_ssh_host&#39;] = &#39;172.30.112.1&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">## ssh连接端口</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">gitlab_rails[&#39;gitlab_shell_ssh_port&#39;] = 9022</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存并退出，然后gitlab.yml该文件可以编辑也可以不编辑(因为gitlab.rb内配置会覆盖这个，为了防止没有成功覆盖所以我在这里进行配置)</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">vi opt/gitlab/embedded/service/gitlab-rails/config/gitlab.yml</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">修改：gitlab setting=》host（172.30.112.1） 、port（9006）、ssh_host（172.30.112.1）</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">		 gitlab shell setting =》ssh_port（9022）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存退出，在容器内执行更新配置</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">gitlab-ctl reconfigure</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重启服务</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">gitlab-ctl restart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="查找密码" tabindex="-1"><a class="header-anchor" href="#查找密码"><span>查找密码</span></a></h4><p>gitlab默认用户是root， 不进入容器直接查询初始密码</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">docker exec -it gitlab grep &#39;Password:&#39; /etc/gitlab/initial_root_password</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在容器内查找初始密码</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">cat /etc/gitlab/initial_root_password</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="`+t+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h4 id="容器内修改密码" tabindex="-1"><a class="header-anchor" href="#容器内修改密码"><span>容器内修改密码</span></a></h4><p>在容器内进入gitlab的bin目录</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">cd /opt/gitlab/bin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>执行gitlab-rails console命令 <img src="'+h+'" alt="image.png" loading="lazy"> 找到root的用户，输入u=User.where(id:1).first，然后回车 <img src="'+r+'" alt="image.png" loading="lazy"> 修改password，输入u.password=&#39;123456789&#39;然后回车</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">u.password=&#39;123456789&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+p+'" alt="image.png" loading="lazy"> 修改确认密码</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">u.password_confirmation=&#39;123456789&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+d+'" alt="image.png" loading="lazy"> 保存修改，输入u.save，然后回车，等到输出true，这时，密码修改成功。 <img src="'+k+'" alt="image.png" loading="lazy"> 这里密码已经修改成功，可以用123456789密码登录进去了</p><h2 id="注意点" tabindex="-1"><a class="header-anchor" href="#注意点"><span>注意点</span></a></h2><p>因为我们想是实现将容器内的80端口往外映射，所以我们在docker run的时候设置了-p 9006:80，但是因为我们在代码里面配置了external_url <a href="http://172.30.112.1:9006" target="_blank" rel="noopener noreferrer">http://172.30.112.1:9006</a>后就应该使用-p 9006:9006否则一直访问不到。</p><h2 id="参考文档" tabindex="-1"><a class="header-anchor" href="#参考文档"><span>参考文档</span></a></h2><p>官网：<a href="https://docs.gitlab.com/ee/install/" target="_blank" rel="noopener noreferrer">https://docs.gitlab.com/ee/install/</a> docker安装gitlab： <a href="https://blog.csdn.net/weixin_45649746/article/details/119816809" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_45649746/article/details/119816809</a></p>',42),o=[c];function b(m,y){return a(),s("div",null,o)}const C=i(g,[["render",b],["__file","anzhuang.html.vue"]]),f=JSON.parse('{"path":"/cloud/ciAndCd/gitlab/anzhuang.html","title":"安装","lang":"zh-CN","frontmatter":{"title":"安装","lang":"zh-CN","date":"2023-09-08T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["cloud"],"tag":["无"],"filename":"anzhuang","slug":"idxata","docsId":"52169771","description":"概述 Gitlab是利用 Ruby on Rails 一个开源的版本管理系统，实现一个自托管的Git项目仓库，可通过Web界面进行访问公开的或者私人项目。 Gitlab-CI就是一套配合GitLab使用的持续集成系统，GitLab8.0以后的版本是默认集成了GitLab-CI并且默认启用的。 Gitlab-Pages是一个go语言写的HTTP服务，原来...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/cloud/ciAndCd/gitlab/anzhuang.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"安装"}],["meta",{"property":"og:description","content":"概述 Gitlab是利用 Ruby on Rails 一个开源的版本管理系统，实现一个自托管的Git项目仓库，可通过Web界面进行访问公开的或者私人项目。 Gitlab-CI就是一套配合GitLab使用的持续集成系统，GitLab8.0以后的版本是默认集成了GitLab-CI并且默认启用的。 Gitlab-Pages是一个go语言写的HTTP服务，原来..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://azrng.gitee.io/kbms/kbms/common/1630392393921-c9133767-a427-43ac-b77a-96685c75485b.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-09-24T07:50:54.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2023-09-08T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-09-24T07:50:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"安装\\",\\"image\\":[\\"https://azrng.gitee.io/kbms/kbms/common/1630392393921-c9133767-a427-43ac-b77a-96685c75485b.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1630392436742-b7a1a83e-d915-430d-a960-f1612a97a4e4.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1630392346545-d3be811e-20e6-4b75-85a2-1981b345a0af.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1630393079166-dcd56a70-64f3-41dd-8e48-4d97d69cbdf5.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1630393092662-6540ad2c-d30e-4bee-8dac-48b234344ede.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1630393112625-6ee295f7-70e6-4a1c-a3f0-194d972f223c.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1630393132266-4b5613af-43c7-41cf-88ec-da38a3db7e70.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1630393150839-203c3d29-88c8-4c59-9af1-273e8bce2933.png\\"],\\"datePublished\\":\\"2023-09-08T00:00:00.000Z\\",\\"dateModified\\":\\"2023-09-24T07:50:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[{"level":3,"title":"生成容器","slug":"生成容器","link":"#生成容器","children":[{"level":4,"title":"docker-compose","slug":"docker-compose","link":"#docker-compose","children":[]},{"level":4,"title":"docker","slug":"docker","link":"#docker","children":[]}]},{"level":3,"title":"配置","slug":"配置","link":"#配置","children":[{"level":4,"title":"查找密码","slug":"查找密码","link":"#查找密码","children":[]},{"level":4,"title":"容器内修改密码","slug":"容器内修改密码","link":"#容器内修改密码","children":[]}]}]},{"level":2,"title":"注意点","slug":"注意点","link":"#注意点","children":[]},{"level":2,"title":"参考文档","slug":"参考文档","link":"#参考文档","children":[]}],"git":{"createdTime":1695541854000,"updatedTime":1695541854000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":3.18,"words":954},"filePathRelative":"cloud/ciAndCd/gitlab/anzhuang.md","localizedDate":"2023年9月8日","excerpt":"<h2>概述</h2>\\n<p>Gitlab是利用 Ruby on Rails 一个开源的版本管理系统，实现一个自托管的Git项目仓库，可通过Web界面进行访问公开的或者私人项目。\\nGitlab-CI就是一套配合GitLab使用的持续集成系统，GitLab8.0以后的版本是默认集成了GitLab-CI并且默认启用的。\\nGitlab-Pages是一个go语言写的HTTP服务，原来只在Gitlab.com和Gitlab企业版中可用，在8.17版本的时候在Gitlab社区版支持。\\nGitlab-Runner是配合GitLab-CI进行使用的，它是一个用来执行软件集成脚本的工具。</p>\\n<blockquote>\\n<p>来源：<a href=\\"https://mp.weixin.qq.com/s/nqpXN75M5vMUtmzVcgewVg\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://mp.weixin.qq.com/s/nqpXN75M5vMUtmzVcgewVg</a></p>\\n</blockquote>","autoDesc":true}');export{C as comp,f as data};
