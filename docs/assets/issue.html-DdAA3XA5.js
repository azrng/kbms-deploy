import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as p,c as o,b as s,e as n,f as l,d as i}from"./app-D8HBJYTp.js";const c={},r=s("h2",{id:"cpuå ç”¨é«˜",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#cpuå ç”¨é«˜"},[s("span",null,"CPUå ç”¨é«˜")])],-1),d={href:"https://www.cnblogs.com/duanweishi/p/13856924.html",target:"_blank",rel:"noopener noreferrer"},u=i(`<h2 id="æ•°æ®åº“æ˜¾ç¤ºä¸ºå•ä¸ªç”¨æˆ·-æ— æ³•æ“ä½œçš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“æ˜¾ç¤ºä¸ºå•ä¸ªç”¨æˆ·-æ— æ³•æ“ä½œçš„é—®é¢˜"><span>æ•°æ®åº“æ˜¾ç¤ºä¸ºå•ä¸ªç”¨æˆ·ï¼Œæ— æ³•æ“ä½œçš„é—®é¢˜</span></a></h2><p>è¿è¡Œï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">USE</span> master<span class="token punctuation">;</span>
GO
<span class="token keyword">DECLARE</span> <span class="token variable">@SQL</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span>MAX<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> <span class="token variable">@SQL</span><span class="token operator">=</span><span class="token string">&#39;&#39;</span>
<span class="token keyword">SELECT</span> <span class="token variable">@SQL</span><span class="token operator">=</span><span class="token variable">@SQL</span><span class="token operator">+</span><span class="token string">&#39;; KILL &#39;</span><span class="token operator">+</span>RTRIM<span class="token punctuation">(</span>SPID<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>sysprocesses
<span class="token keyword">WHERE</span> dbid<span class="token operator">=</span>DB_ID<span class="token punctuation">(</span><span class="token string">&#39;DataBaseName&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">EXEC</span><span class="token punctuation">(</span><span class="token variable">@SQL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
GO

<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> DataBaseName <span class="token keyword">SET</span> MULTI_USER<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŸç†ï¼šå…ˆkillå ç”¨äº†æ•°æ®åº“çš„é‚£ä¸ªè¿›ç¨‹ï¼Œç„¶åè®¾ç½®æ•°æ®åº“ä¸ºå¤šç”¨æˆ·æ¨¡å¼å³å¯ã€‚</p><h2 id="dockeréƒ¨ç½²è¿æ¥sqlserver2008-sslé”™è¯¯" tabindex="-1"><a class="header-anchor" href="#dockeréƒ¨ç½²è¿æ¥sqlserver2008-sslé”™è¯¯"><span>dockeréƒ¨ç½²è¿æ¥sqlserver2008 sslé”™è¯¯</span></a></h2><p>å¤§è‡´é”™è¯¯ä¿¡æ¯å¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: TCP Provider, error: 35 - An internal exception was caught)

// æˆ–è€…

SSL Handshake failed with OpenSSL error - SSL_ERROR_SSL.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŸå› ï¼š</p><p>ç”±äºè¿›è¡Œé•œåƒçš„å®‰å…¨çº§åˆ«æé«˜äº†,é»˜è®¤é‡‡ç”¨äº†TLSv1.2ç‰ˆæœ¬ï¼Œå¯¼è‡´æ— æ³•è®¿é—®æ—§ç‰ˆæœ¬çš„æ•°æ®åº“,è€Œç¨‹åºæ‰€ä½¿ç”¨çš„ SQL Server æ•°æ®åº“ç‰ˆæœ¬æ¯”è¾ƒä½ä¸æ”¯æŒ TLSv1.2</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>åœ¨dockerfileæ–‡ä»¶å¢åŠ ä¸‹é¢çš„å‚æ•°</p><div class="language-docker line-numbers-mode" data-ext="docker" data-title="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> mcr.microsoft.com/dotnet/aspnet:5.0 <span class="token keyword">AS</span> base</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span>

<span class="token instruction"><span class="token keyword">FROM</span> mcr.microsoft.com/dotnet/sdk:5.0 <span class="token keyword">AS</span> build</span>
<span class="token instruction"><span class="token keyword">ARG</span> BUILD_CONFIGURATION=Release</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /src</span>
<span class="token instruction"><span class="token keyword">COPY</span> [<span class="token string">&quot;WebApplication8/WebApplication8.csproj&quot;</span>, <span class="token string">&quot;WebApplication8/&quot;</span>]</span>
<span class="token instruction"><span class="token keyword">RUN</span> dotnet restore <span class="token string">&quot;./WebApplication8/./WebApplication8.csproj&quot;</span></span>
<span class="token instruction"><span class="token keyword">COPY</span> . .</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> <span class="token string">&quot;/src/WebApplication8&quot;</span></span>
<span class="token instruction"><span class="token keyword">RUN</span> dotnet build <span class="token string">&quot;./WebApplication8.csproj&quot;</span> -c <span class="token variable">$BUILD_CONFIGURATION</span> -o /app/build</span>

<span class="token instruction"><span class="token keyword">FROM</span> build <span class="token keyword">AS</span> publish</span>
<span class="token instruction"><span class="token keyword">ARG</span> BUILD_CONFIGURATION=Release</span>
<span class="token instruction"><span class="token keyword">RUN</span> dotnet publish <span class="token string">&quot;./WebApplication8.csproj&quot;</span> -c <span class="token variable">$BUILD_CONFIGURATION</span> -o /app/publish /p:UseAppHost=false</span>

<span class="token instruction"><span class="token keyword">FROM</span> base <span class="token keyword">AS</span> final</span>

<span class="token instruction"><span class="token keyword">RUN</span> sed -i <span class="token string">&#39;s/MinProtocol = TLSv1.2/MinProtocol = TLSv1/g&#39;</span> /etc/ssl/openssl.cnf   ğŸ‘ˆ</span>
<span class="token instruction"><span class="token keyword">RUN</span> sed -i <span class="token string">&#39;s/MinProtocol = TLSv1.2/MinProtocol = TLSv1/g&#39;</span> /usr/lib/ssl/openssl.cnf ğŸ‘ˆ</span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">publish</span></span> /app/publish .</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;dotnet&quot;</span>, <span class="token string">&quot;WebApplication8.dll&quot;</span>]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‚è€ƒèµ„æ–™ï¼šhttps://www.cnblogs.com/printertool/p/14084385.html</p>`,13);function k(v,m){const a=t("ExternalLinkIcon");return p(),o("div",null,[r,s("p",null,[n("SQLSERVERæ’æŸ¥CPUå ç”¨é«˜çš„æƒ…å†µ - é©¬ä¼šä¸œ - åšå®¢å›­ "),s("a",d,[n("https://www.cnblogs.com/duanweishi/p/13856924.html"),l(a)])]),u])}const g=e(c,[["render",k],["__file","issue.html.vue"]]),w=JSON.parse(`{"path":"/dataBase/sqlserver/issue.html","title":"é—®é¢˜","lang":"zh-CN","frontmatter":{"title":"é—®é¢˜","lang":"zh-CN","date":"2023-09-23T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["dataBase"],"tag":["æ— "],"filename":"putong","slug":"xr5aw5p8w0fxq2rg","docsId":"140756729","description":"CPUå ç”¨é«˜ SQLSERVERæ’æŸ¥CPUå ç”¨é«˜çš„æƒ…å†µ - é©¬ä¼šä¸œ - åšå®¢å›­ https://www.cnblogs.com/duanweishi/p/13856924.html æ•°æ®åº“æ˜¾ç¤ºä¸ºå•ä¸ªç”¨æˆ·ï¼Œæ— æ³•æ“ä½œçš„é—®é¢˜ è¿è¡Œï¼š åŸç†ï¼šå…ˆkillå ç”¨äº†æ•°æ®åº“çš„é‚£ä¸ªè¿›ç¨‹ï¼Œç„¶åè®¾ç½®æ•°æ®åº“ä¸ºå¤šç”¨æˆ·æ¨¡å¼å³å¯ã€‚ dockeréƒ¨ç½²è¿æ¥sqlserver2008 ss...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/dataBase/sqlserver/issue.html"}],["meta",{"property":"og:site_name","content":"çŸ¥è¯†åº“"}],["meta",{"property":"og:title","content":"é—®é¢˜"}],["meta",{"property":"og:description","content":"CPUå ç”¨é«˜ SQLSERVERæ’æŸ¥CPUå ç”¨é«˜çš„æƒ…å†µ - é©¬ä¼šä¸œ - åšå®¢å›­ https://www.cnblogs.com/duanweishi/p/13856924.html æ•°æ®åº“æ˜¾ç¤ºä¸ºå•ä¸ªç”¨æˆ·ï¼Œæ— æ³•æ“ä½œçš„é—®é¢˜ è¿è¡Œï¼š åŸç†ï¼šå…ˆkillå ç”¨äº†æ•°æ®åº“çš„é‚£ä¸ªè¿›ç¨‹ï¼Œç„¶åè®¾ç½®æ•°æ®åº“ä¸ºå¤šç”¨æˆ·æ¨¡å¼å³å¯ã€‚ dockeréƒ¨ç½²è¿æ¥sqlserver2008 ss..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-11-16T02:02:56.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"æ— "}],["meta",{"property":"article:published_time","content":"2023-09-23T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-11-16T02:02:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"é—®é¢˜\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-09-23T00:00:00.000Z\\",\\"dateModified\\":\\"2023-11-16T02:02:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"CPUå ç”¨é«˜","slug":"cpuå ç”¨é«˜","link":"#cpuå ç”¨é«˜","children":[]},{"level":2,"title":"æ•°æ®åº“æ˜¾ç¤ºä¸ºå•ä¸ªç”¨æˆ·ï¼Œæ— æ³•æ“ä½œçš„é—®é¢˜","slug":"æ•°æ®åº“æ˜¾ç¤ºä¸ºå•ä¸ªç”¨æˆ·-æ— æ³•æ“ä½œçš„é—®é¢˜","link":"#æ•°æ®åº“æ˜¾ç¤ºä¸ºå•ä¸ªç”¨æˆ·-æ— æ³•æ“ä½œçš„é—®é¢˜","children":[]},{"level":2,"title":"dockeréƒ¨ç½²è¿æ¥sqlserver2008 sslé”™è¯¯","slug":"dockeréƒ¨ç½²è¿æ¥sqlserver2008-sslé”™è¯¯","link":"#dockeréƒ¨ç½²è¿æ¥sqlserver2008-sslé”™è¯¯","children":[]}],"git":{"createdTime":1695552464000,"updatedTime":1700100176000,"contributors":[{"name":"zhangyunpeng","email":"zhang.yunpeng@synyi.com","commits":2},{"name":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":1.16,"words":349},"filePathRelative":"dataBase/sqlserver/issue.md","localizedDate":"2023å¹´9æœˆ23æ—¥","excerpt":"<h2>CPUå ç”¨é«˜</h2>\\n<p>SQLSERVERæ’æŸ¥CPUå ç”¨é«˜çš„æƒ…å†µ - é©¬ä¼šä¸œ - åšå®¢å›­\\n<a href=\\"https://www.cnblogs.com/duanweishi/p/13856924.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://www.cnblogs.com/duanweishi/p/13856924.html</a></p>\\n<h2>æ•°æ®åº“æ˜¾ç¤ºä¸ºå•ä¸ªç”¨æˆ·ï¼Œæ— æ³•æ“ä½œçš„é—®é¢˜</h2>\\n<p>è¿è¡Œï¼š</p>\\n<div class=\\"language-sql\\" data-ext=\\"sql\\" data-title=\\"sql\\"><pre class=\\"language-sql\\"><code><span class=\\"token keyword\\">USE</span> master<span class=\\"token punctuation\\">;</span>\\nGO\\n<span class=\\"token keyword\\">DECLARE</span> <span class=\\"token variable\\">@SQL</span> <span class=\\"token keyword\\">VARCHAR</span><span class=\\"token punctuation\\">(</span>MAX<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">SET</span> <span class=\\"token variable\\">@SQL</span><span class=\\"token operator\\">=</span><span class=\\"token string\\">''</span>\\n<span class=\\"token keyword\\">SELECT</span> <span class=\\"token variable\\">@SQL</span><span class=\\"token operator\\">=</span><span class=\\"token variable\\">@SQL</span><span class=\\"token operator\\">+</span><span class=\\"token string\\">'; KILL '</span><span class=\\"token operator\\">+</span>RTRIM<span class=\\"token punctuation\\">(</span>SPID<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">FROM</span> master<span class=\\"token punctuation\\">.</span><span class=\\"token punctuation\\">.</span>sysprocesses\\n<span class=\\"token keyword\\">WHERE</span> dbid<span class=\\"token operator\\">=</span>DB_ID<span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'DataBaseName'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">EXEC</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">@SQL</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\nGO\\n\\n<span class=\\"token keyword\\">ALTER</span> <span class=\\"token keyword\\">DATABASE</span> DataBaseName <span class=\\"token keyword\\">SET</span> MULTI_USER<span class=\\"token punctuation\\">;</span>\\n</code></pre></div>","autoDesc":true}`);export{g as comp,w as data};
