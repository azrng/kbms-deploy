import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as n,o as l}from"./app-BQsqMNmR.js";const e="/kbms/common/1614064249008-fb42116a-d4a6-4220-89a8-73c068d15a9c.png",h="/kbms/common/1614064230547-4db8d010-96f4-452e-a241-4da8eba3464d.jpeg",t="/kbms/common/1614064230517-b480457d-35e0-4050-b85a-c194b2c028c4.png",k="/kbms/common/1614064230518-b0d132d8-a48c-4cef-bc34-dc6c373b6151.jpeg",p="/kbms/common/1614064230573-ce3c18f6-b040-411d-9be2-f49a963ddb96.png",r="/kbms/common/1614064230513-93ce47f6-ab82-4287-9c82-2a8f8ce3bb2c.jpeg",d="/kbms/common/1614064230542-532fdcae-a2c4-4a35-8804-622a77c4fbeb.jpeg",A="/kbms/common/1614064230516-d35dc2b5-9b0f-4d3e-9b05-a319bc3b6f3a.png",g="/kbms/common/1614064146772-347bc39f-9a19-4142-bb03-c1cd10cf5916.png",B="/kbms/common/1614064146674-160774e1-8d69-47a0-a742-89b7c1005dee.png",c="/kbms/common/1614064146700-f15b31bf-ea53-498c-a9e7-bacf57f32fd8.png",y="/kbms/common/1614064129058-eb9ea6ff-f978-41d5-8fe6-836d48fa2a6e.png",o="/kbms/common/1614064129085-d42bd1f7-08f4-431e-b9cd-21e79b88b938.png",m="/kbms/common/1614064129053-4130a7a0-28d6-499e-9466-6bd8601d616f.png",b="/kbms/common/1614064129051-7a291f2f-68cd-4acc-9867-946b6ecc25ea.png",D="/kbms/common/1614064129051-01b092ab-4993-444a-b95f-6f5287d673cd.png",v="/kbms/common/1614064129133-6c939131-8799-46f3-a514-18f4124047fa.png",F="/kbms/common/1614064129063-f5c9510e-36c7-4bf0-916b-d4fe6206a834.png",u="/kbms/common/1614064111174-f8e1ea09-57f1-45be-a9f6-673ffde2c4e7.png",C="/kbms/common/1614064101275-678f4411-75be-4d94-a8c4-bdcca44c9677.png",f="/kbms/common/1614064101279-7155fdea-15fd-416d-9128-5512cc6cd27f.png",E="/kbms/common/1614064082772-a85f7f67-3a6d-4bb1-baf4-9eaac6a18b83.png",_="/kbms/common/1614063769075-8cf4153c-3df4-4eb6-95a0-728bd04e269a.png",S={};function L(T,s){return l(),a("div",null,s[0]||(s[0]=[n('<h2 id="乱码" tabindex="-1"><a class="header-anchor" href="#乱码"><span>乱码</span></a></h2><p>打开SQL plus后发现现实文字是乱码，这个时候需要点击右键属性，然后勾选旧版控制台。并重新打开sqlplus,&quot;修改默认代码页&quot;，把“437 OEM 美国”改为“936 ANSI/OEM 简体中文（GBK）”。<br> 创建数据库时候提示Enterprise Manager配置失败的解决办法 无法打开OEM的解决办法  <a href="https://blog.csdn.net/zyf19930610/article/details/51262253" target="_blank" rel="noopener noreferrer">链接</a><br> 连接数据库时候一直提示用户名不存在，但是真实存在该用户，并且已经赋予权限，并且可以在本地数据库工具中可以连接上，最后解决办法：不能将用户名和数据库名称设置一致，如果设置一致可能就会出这个错误。</p><h2 id="连不上远程数据库" tabindex="-1"><a class="header-anchor" href="#连不上远程数据库"><span>连不上远程数据库</span></a></h2><p>同一个网络下，使用内网连接远程数据库，连接错误<br> 可能的问题是对方电脑防火墙开的，需要关掉或者说进入防火墙，高级设置中增加一个入站规则，允许1521端口访问<br>  <br>  <br> 如果自己本地都连接不上，那么重启下oracle的几个服务再试一试<br>  <br><img src="'+e+'" alt="image.png" loading="lazy"></p><h2 id="不是有效的导出文件-头部验证失败" tabindex="-1"><a class="header-anchor" href="#不是有效的导出文件-头部验证失败"><span>不是有效的导出文件，头部验证失败</span></a></h2><p><strong>不是有效的导出文件</strong><br> 描述：数据库已经导出为dmp文件，导入时候新创建了数据库，数据库的名字和导出时候的一致，然后新建了用户，和导出的源数据库一致，现在导入的时候提示<br><img src="'+h+'" alt="image.jpeg" loading="lazy"><br> 然后按照网上说的：<a href="https://blog.csdn.net/hwhua1986/article/details/49336765" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/hwhua1986/article/details/49336765</a><br> 使用文本编辑器打开dmp文件<br><img src="'+t+'" alt="image.png" loading="lazy"><br> 然后运行语句查看数据库软件的版本号<br> 语句：select * from v$version<br><img src="'+k+'" alt="image.jpeg" loading="lazy"><br> 需要修改dmp文件为这个文件，比如说11.2.0.1.0，需要对应修改为<br><img src="'+p+'" alt="image.png" loading="lazy"><br> 然后再次运行<br><img src="'+r+'" alt="image.jpeg" loading="lazy"><br> 警告属于另一个问题了，这里不予讨论。<br><strong>2. 触发器编译错误</strong><br><img src="'+d+'" alt="image.jpeg" loading="lazy"><br> 然后查看语句，显示是：<br><img src="'+A+'" alt="image.png" loading="lazy"><br> 原因是缺少一个SEQ_BUS_CITY序列，那么我们就创建一个<br>    CREATE SEQUENCE &quot;DYZHCSLEAPP&quot;.&quot;SEQ_CITY&quot;  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 26 NOCACHE  NOORDER NOCYCLE ;<br> 然后重新编译触发器，就成功了。</p><h2 id="ora-06413-连接未打开" tabindex="-1"><a class="header-anchor" href="#ora-06413-连接未打开"><span>ORA-06413:连接未打开</span></a></h2><p>出现这个问题一般是因为“括号”的问题，<br> 比如要连接的程序存放在c:/abc(def)/program/目录下，调试运行会出现ORA-06413。<br> 把路径名称中的括号去掉就可以了。</p><h2 id="enterprise-manager配置失败" tabindex="-1"><a class="header-anchor" href="#enterprise-manager配置失败"><span>Enterprise Manager配置失败</span></a></h2><p><img src="'+g+'" alt="image.png" loading="lazy"><br>  <br> 在listener.ora中增加对BlueAeri-PC或ip地址的侦听，具体步骤如下：<br> 1.启动Net Manager，在“监听程序”--Listener下添加一个地址，主机名写计算机名字或者ip，端口号还是1521，然后保存<br> 2.重启监听服务。<br><img src="'+B+'" alt="image.png" loading="lazy"><br> 3.启动Database configuration Assistant “配置数据库选件”就可以重新配置em了，而不用删除数据库。再次创建数据库时也不会报如上的错误。<br><img src="'+c+'" alt="image.png" loading="lazy"></p><h2 id="ora-28001-口令已经失效" tabindex="-1"><a class="header-anchor" href="#ora-28001-口令已经失效"><span>ORA-28001，口令已经失效</span></a></h2><p>在登录后台系统时候，系统提示内部服务器错误<br><img src="'+y+'" alt="image.png" loading="lazy"><br> 查看数据库后发现是数据库口令到期了（一般是180需要修改一次密码，如果不修改就会强制过期）<br> 下面的方法可以修改当前用户的密码是我们连接上数据库，但是那个口令还是不知道是啥<br> 1.在cmd命令窗口中输入：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sqlplus 用户名/密码</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">@数据库本地服务名</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sysdba;（例如:sqlplus LYKG/Dyzhcs</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">@LYKGTEST</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sysdba;）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+o+'" alt="image.png" loading="lazy"><br> 2.查看用户的proifle是哪个，一般是default：<br> SELECT username,PROFILE FROM dba_users;<br><img src="'+m+'" alt="image.png" loading="lazy"><br>  <br><img src="'+b+'" alt="image.png" loading="lazy"><br> 3.查看对应概要文件（如default）的密码有效期设置：<br> SELECT * FROM dba_profiles s WHERE s.profile=&#39;DEFAULT&#39; AND resource_name=&#39;PASSWORD_LIFE_TIME&#39;;<br><img src="'+D+'" alt="image.png" loading="lazy"><br> 4.将概要文件（如default）的密码有效期由默认的180天修改为“无限制”</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ALTER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PROFILE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> PASSWORD_LIFE_TIME </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UNLIMITED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>修改后不用重启数据库，会立即生效。<br><img src="'+v+`" alt="image.png" loading="lazy"><br> 5.然后修改用户的密码</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 用户名 identified </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">原来的密码</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> account </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">unlock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">----不用换新密码</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">例如：</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user DYZHCSLEAPP identified </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> NYEKTLEAPP account </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">unlock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+F+'" alt="image.png" loading="lazy"><br> 6.然后去连接数据库，可以正常使用了</p><h2 id="修改数据库密码" tabindex="-1"><a class="header-anchor" href="#修改数据库密码"><span>修改数据库密码</span></a></h2><p>运行cmd命令<br><strong>（1）在CMD命令窗口中输入：</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         sqlplus 用户名/密码</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">@数据库本地服务名</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sysdba;（例如：sqlplus scott/</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1234</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">@oracle1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sysdba;）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>用自己创建的用户密码登录会提示权限不够，需要使用管理员登录</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      例如：sqlplus </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">system</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/Dyzhcs2019jsb</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">@orabusonline</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sysdba;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>（2）查询对应的概要文件(如default)的密码有效期设置：</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">sql</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dba_profiles s </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">profile</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;DEFAULT&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> resource_name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;PASSWORD_LIFE_TIME&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>（4）将概要文件(如default)的密码有效期由默认的180天修改成“无限制”：</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      sql</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ALTER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PROFILE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> PASSWORD_LIFE_TIME </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UNLIMITED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>备注：修改之后不需要重启动数据库，会立即生效。<br>  <br><strong>（5）将概要文件(如default)的密码有效期由无限制修改成“60天”：</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      sql</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> profile</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> limit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> PASSWORD_LIFE_TIME </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">60</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>备注：修改之后不需要重启动数据库，会立即生效。<br>  <br><strong>（6）如果还提示同样的错误，连接不上，那么该账号再改一次密码</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">sql</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> alter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user 用户名 identified  </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 原来的密码  account </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">unlock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--不用换密码</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+u+'" alt="image.png" loading="lazy"><br>  <br> 备注：修改密码必须用当前数据库进才能有效（sqlplus 用户名/密码@数据库本地服务名 as sysdba;）</p><h2 id="修改oracle数据库sga和pga大小" tabindex="-1"><a class="header-anchor" href="#修改oracle数据库sga和pga大小"><span>修改Oracle数据库SGA和PGA大小</span></a></h2><p>SGA的大小：一般物理内存20%用作操作系统保留，其他80%用于数据库。<br> SGA普通数据库可以分配40%-60%之间，PGA可以分配20%-40%之间。<br> 1、以dba身份登录<br> 并查看SGA信息：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show parameter sga;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+C+'" alt="image.png" loading="lazy"><br> 查看PGA信息： 目前的内存</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show parameter pga；</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="'+f+`" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">、修改sga_target </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> system</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sga_target</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">436M;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">、修改sga_max_size </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> system</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sga_max_size</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">436M scope</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">spfile;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">、重启数据库使其生效：</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">shutdown</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> immediate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">注意，重启前一定先完成上述两部操作，且sga_target不得大于sga_max_size，一般保持两者相等</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">否则可能导致数据库无法启动。</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">startup</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">、查看SGA是否生效：</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show parameter sga</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NAME</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                                TYPE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        VALUE</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">------------------------------------ ----------- -----</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">lock_sga                            </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    FALSE</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pre_page_sga                        </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    FALSE</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sga_max_size                        big </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 436M</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sga_target                          big </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 436M</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="oracle连接提示ora-12505问题" tabindex="-1"><a class="header-anchor" href="#oracle连接提示ora-12505问题"><span>oracle连接提示ORA-12505问题</span></a></h2><p>首先先检查服务名，结果发现还是连接不了，具体解决办法是打开数据库实例的目录，我本机的是C:\\app\\Administrator\\product\\11.2.0\\dbhome_1\\NETWORK\\ADMIN，找到listener.ora文件（listener监听器进程的配置文件），使用文本编辑器打开<br> 内容如下：<br><img src="`+E+`" alt="image.png" loading="lazy"><br> 修改为</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">## </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">listener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ora</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Network </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Configuration</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> File</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: D:\\app\\Administrator\\product\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\\dbhome_1\\NETWORK\\</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ADMIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">listener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ora</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">## </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Generated</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Oracle </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">configuration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tools.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">SID_LIST_LISTENER </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  (SID_LIST </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (SID_DESC </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (SID_NAME </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> CLRExtProc)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (ORACLE_HOME </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> D:\\app\\Administrator\\product\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\\dbhome_1)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (PROGRAM </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> extproc)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (ENVS </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;EXTPROC_DLLS=ONLY:D:\\app\\Administrator\\product\\11.2.0\\dbhome_1\\bin\\oraclr11.dll&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(SID_DESC </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (GLOBAL_DBNAME </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orcl)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (ORACLE_HOME </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  C:\\app\\Administrator\\product\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\\dbhome_1)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (SID_NAME </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orcl)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">LISTENER </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  (DESCRIPTION_LIST </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DESCRIPTION</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ADDRESS</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (PROTOCOL </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> IPC)(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> EXTPROC1521))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DESCRIPTION</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ADDRESS</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (PROTOCOL </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TCP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)(HOST </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> localhost)(PORT </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1521</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DESCRIPTION</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ADDRESS</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (PROTOCOL </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TCP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)(HOST </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> WIN-1CL1VVKMV07)(PORT </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1521</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ADR_BASE_LISTENER </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> D:\\app\\Administrator</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="oracle数据库导出序列问题" tabindex="-1"><a class="header-anchor" href="#oracle数据库导出序列问题"><span>oracle数据库导出序列问题</span></a></h2><p>问题描述：<br>       在用exp/imp导入导出数据库的时候，新的库经常出到序列小于表中最大值的情况。一直都不知道问题出在了什么地方，后来经同事提醒才恍然大悟，在exp的时候，应用程序是没有停止的，也就是说，命令在执行的过程中，先导出了序列，然后再导的表，而表的数据一直在增加，所以出现此情况。<br>  <br> 解决方法：<br>       知道问题所在了，那就知道解决方案了。<br>   1：工具：导出库后，再用PLSQL把序列导出来（命令窗口不行，因为exp不能只导序列），导入库后重建序列。<br>   2：手工：导出库后，使用SQL生成建序列脚本，导入库后重建序列。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>SELECT &#39; create sequence 用户名.&#39; || SEQUENCE_NAME ||   </span></span>
<span class="line"><span>       &#39; minvalue &#39; || MIN_VALUE ||   </span></span>
<span class="line"><span>       &#39; maxvalue &#39; || MAX_VALUE ||   </span></span>
<span class="line"><span>       &#39; start with &#39; || LAST_NUMBER ||   </span></span>
<span class="line"><span>       &#39; increment by &#39; || INCREMENT_BY ||   </span></span>
<span class="line"><span>       &#39; cache &#39; || CACHE_SIZE || &#39; ;&#39;  </span></span>
<span class="line"><span>  FROM USER_SEQUENCES;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="oracle11g不能导出空表的解决办法" tabindex="-1"><a class="header-anchor" href="#oracle11g不能导出空表的解决办法"><span>Oracle11g不能导出空表的解决办法</span></a></h2><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ORACLE 11g 用exp命令导出库文件备份时，发现只能导出来一部分表而且不提示错误，之前找不到解决方案只能把没导出来的表重新建建立。后来发现是所有的空表都没有导出来。于是想好好查查,因为在以前的10g版本中没有这样的问题。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">查资料发现Oracle 11g中有个新特性：新增了一个参数“deferred_segment_creation”含义是段延迟创建，默认是true。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">具体是什么意思呢？</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">如果这个参数设置为true，你新建了一个表Table1，并且没有向其中插入数据，那么这个表不会立即分配extent，也就是不占数据空间，即表也不分配 segment 以节省空间，所以这些表也没能导出来。在系统表user_tables中也可以看到segment_treated的字段里是“</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">”或者“YES”说明了某张表是否分配了segment。说白了是为了可以节省少量的空间。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">用下面的SQL语句查询，可以发现没有导出的表其 segment_created 字段值都是 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;NO&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> segment_created,table_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user_tables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> segment_created </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;NO&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">解决方法：</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">、最原始最笨的办法(不推荐):insert一行，再rollback或者删除就产生segment了。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">该方法是在在空表中插入数据，再删除，则产生segment。导出时则可导出空表。</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">、设置deferred_segment_creation参数：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   设置deferred_segment_creation 参数为FALSE来禁用</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;段推迟创建&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(也就是直接创建segment)，无论是空表还是非空表，都分配segment。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   在sqlplus中，执行如下命令：</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> system</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> deferred_segment_creation</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">false;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   查看：</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show parameter deferred_segment_creation;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   注意：该值设置后只对后面新增的表产生作用，对之前建立的空表(已经存在的)不起作用，仍不能导出。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   并且要重新启动数据库，让参数生效。</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">、使用ALLOCATE EXTENT，可以导出之前已经存在的空表。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   使用ALLOCATE EXTENT可以为数据库对象的每一张表分配Extent(注意针对每一张表，就是说一张表需要一条SQL代码)：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   其语法如下：</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   -----------</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   ALLOCATE EXTENT { </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SIZE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> integer</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> [K | M]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | DATAFILE </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;filename&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | INSTANCE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   -----------</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   可以针对数据表、索引、物化视图等手工分配Extent。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   ALLOCATE EXTENT使用样例:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ALLOCATE EXTENT</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ALLOCATE EXTENT(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SIZE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> integer</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> [K | M]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ALLOCATE EXTENT(DATAFILE </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;filename&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ALLOCATE EXTENT(INSTANCE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">www</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2cto</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.com</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ALLOCATE EXTENT(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SIZE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> integer</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> [K | M]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   DATAFILE </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;filename&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ALLOCATE EXTENT(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SIZE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> integer</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> [K | M]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   INSTANCE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   针对数据表操作的完整语法如下：</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   -----------</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   ALTER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> [schema.]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> table_name ALLOCATE EXTENT </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[({ SIZE integer [K | M]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | DATAFILE </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;filename&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | INSTANCE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   -----------</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   故，需要构建如下样子简单的SQL命令：</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   -----------</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> TableName allocate extent</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   -----------</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   但要是每一张表写一条语句的话太过麻烦，为了方便我们使用SQL命令拼写出每一张表的alter语句。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">构建对空表分配空间的SQL命令。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   查询当前用户下的所有空表（一个用户最好对应一个默认表空间）。命令如下：</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> table_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user_tables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> NUM_ROWS</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   根据上述查询，可以构建针对空表分配空间的命令语句，如下：</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Select</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;alter table &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">||table_name||</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39; allocate extent;&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user_tables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> num_rows</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> or</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> num_rows </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">（注意：很多教程没有这里，这里是有可能位空的）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   上述代码可产生批量的修改表extent的SQL语句(有多少张空表就产生多少条)，我们只需要将其生成的所有sql代码全部执行，就可以给每一张已经存在的表来分配segment，就OK了。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">最后：这时再用exp导出就没有问题了。但是：数据库本身的deferred_segment_creation属性还是TRUE,也是就是说如果再创建新表的话，默认还是不分配segment的。所以还是需要更改deferred_segment_creation的参数，以便以后创建的新表自动分配segment。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">总结：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    如果你的数据库还没有创建任何数据表，那么直接修改deferred_segment_creation属性，以后创建的表无论是不是为空都会自动分配segment，就不会出现导不出空表的情况。然而如果你的数据库中已经有很多空表，并且需要导出来，那么光修改deferred_segment_creation属性则没有用的，因为它只对之后创建的表有作用。你需要给已存在的空表分配segment以便可以导出存在的空表，就用到上面讲的allocate extent方法，但此方法只针对已经存在的表的segment属性，所以最好就是：先给已存在的空表分配segment，方便其可以直接导出，然后设定deferred_segment_creation参数以便以后每张表无论是否为空都自动分配segment。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">附录：有关第三种方法给已经存在的空表分配segment，下面介绍一种生成脚本来执行sql的方法。</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Select</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;alter table &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">||table_name||</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39; allocate extent;&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user_tables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> num_rows</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> or</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> num_rows </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">批量输出上述生成的SQL语句并写入到一个</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql的脚本文件中</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">如： </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">. 创建执行脚本文件：我创建一个E:\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql_script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql文件</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">。内容如下：</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> heading </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> echo </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> feedback </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> termout </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   spool E:\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql_allocate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   Select</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;alter table &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">||table_name||</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39; allocate extent;&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user_tables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> num_rows</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> or</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> num_rows </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   spool </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   这个脚本的作用就是创建一个E:\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql_allocate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql脚本文件</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">，将Select </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;alter table &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">||table_name||</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39; allocate extent;&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user_tables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> num_rows</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> or</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> num_rows </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> null的执行结果（就是给每张表生成segment的SQL代码）批量输出，存储到一个E:\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql_allocate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql的脚本文件中</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">. 执行E:\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql_script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql文件来生成</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">“分配表空间的SQL代码”</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">的脚本文件sql_allocate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   命令如下：</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@ E:\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql_script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  (也可写一个批处理文件，命令如下：sqlplus 用户名/密码</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">@数据库</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> @E</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql_script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   执行完毕后，得到E:\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql_allocate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql脚本文件</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(里面是给所有空表分配segment的SQL代码)。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   打开该文件会看到，已经得到对所有空表分配空间的SQL语句。</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">. 执行E:\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql_allocate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql文件来对表分配空间</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   命令如下：</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@ E:\\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql_allocate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   执行完毕，表已更改。之前存在的空表已分配segment空间！</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">大功告成，此时执行exp命令，即可把包括空表在内的所有表，正常导出。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="无法转换为环境字符串句柄" tabindex="-1"><a class="header-anchor" href="#无法转换为环境字符串句柄"><span>无法转换为环境字符串句柄</span></a></h2><figure><img src="`+_+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>在imp 导入数据库的时候出现问题； 这个问题是 你用 expdp导出的 却用客户端的 imp 导入；换成impdp导入即可</p>',50)]))}const N=i(S,[["render",L],["__file","oracleshiyongwenti.html.vue"]]),I=JSON.parse('{"path":"/dataBase/oracle/oracleshiyongwenti/oracleshiyongwenti.html","title":"Oracle使用问题","lang":"zh-CN","frontmatter":{"title":"Oracle使用问题","lang":"zh-CN","date":"2023-09-23T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["dataBase"],"tag":["无"],"filename":"oracleshiyongwenti","slug":"zzh84i","docsId":"29712679","description":"乱码 打开SQL plus后发现现实文字是乱码，这个时候需要点击右键属性，然后勾选旧版控制台。并重新打开sqlplus,\\"修改默认代码页\\"，把“437 OEM 美国”改为“936 ANSI/OEM 简体中文（GBK）”。 创建数据库时候提示Enterprise Manager配置失败的解决办法 无法打开OEM的解决办法 链接 连接数据库时候一直提示用户...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/dataBase/oracle/oracleshiyongwenti/oracleshiyongwenti.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"Oracle使用问题"}],["meta",{"property":"og:description","content":"乱码 打开SQL plus后发现现实文字是乱码，这个时候需要点击右键属性，然后勾选旧版控制台。并重新打开sqlplus,\\"修改默认代码页\\"，把“437 OEM 美国”改为“936 ANSI/OEM 简体中文（GBK）”。 创建数据库时候提示Enterprise Manager配置失败的解决办法 无法打开OEM的解决办法 链接 连接数据库时候一直提示用户..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://azrng.gitee.io/kbms/kbms/common/1614064249008-fb42116a-d4a6-4220-89a8-73c068d15a9c.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-09-23T15:53:24.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2023-09-23T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-09-23T15:53:24.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Oracle使用问题\\",\\"image\\":[\\"https://azrng.gitee.io/kbms/kbms/common/1614064249008-fb42116a-d4a6-4220-89a8-73c068d15a9c.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064230547-4db8d010-96f4-452e-a241-4da8eba3464d.jpeg\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064230517-b480457d-35e0-4050-b85a-c194b2c028c4.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064230518-b0d132d8-a48c-4cef-bc34-dc6c373b6151.jpeg\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064230573-ce3c18f6-b040-411d-9be2-f49a963ddb96.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064230513-93ce47f6-ab82-4287-9c82-2a8f8ce3bb2c.jpeg\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064230542-532fdcae-a2c4-4a35-8804-622a77c4fbeb.jpeg\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064230516-d35dc2b5-9b0f-4d3e-9b05-a319bc3b6f3a.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064146772-347bc39f-9a19-4142-bb03-c1cd10cf5916.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064146674-160774e1-8d69-47a0-a742-89b7c1005dee.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064146700-f15b31bf-ea53-498c-a9e7-bacf57f32fd8.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064129058-eb9ea6ff-f978-41d5-8fe6-836d48fa2a6e.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064129085-d42bd1f7-08f4-431e-b9cd-21e79b88b938.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064129053-4130a7a0-28d6-499e-9466-6bd8601d616f.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064129051-7a291f2f-68cd-4acc-9867-946b6ecc25ea.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064129051-01b092ab-4993-444a-b95f-6f5287d673cd.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064129133-6c939131-8799-46f3-a514-18f4124047fa.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064129063-f5c9510e-36c7-4bf0-916b-d4fe6206a834.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064111174-f8e1ea09-57f1-45be-a9f6-673ffde2c4e7.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064101275-678f4411-75be-4d94-a8c4-bdcca44c9677.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064101279-7155fdea-15fd-416d-9128-5512cc6cd27f.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614064082772-a85f7f67-3a6d-4bb1-baf4-9eaac6a18b83.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1614063769075-8cf4153c-3df4-4eb6-95a0-728bd04e269a.png\\"],\\"datePublished\\":\\"2023-09-23T00:00:00.000Z\\",\\"dateModified\\":\\"2023-09-23T15:53:24.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"乱码","slug":"乱码","link":"#乱码","children":[]},{"level":2,"title":"连不上远程数据库","slug":"连不上远程数据库","link":"#连不上远程数据库","children":[]},{"level":2,"title":"不是有效的导出文件，头部验证失败","slug":"不是有效的导出文件-头部验证失败","link":"#不是有效的导出文件-头部验证失败","children":[]},{"level":2,"title":"ORA-06413:连接未打开","slug":"ora-06413-连接未打开","link":"#ora-06413-连接未打开","children":[]},{"level":2,"title":"Enterprise Manager配置失败","slug":"enterprise-manager配置失败","link":"#enterprise-manager配置失败","children":[]},{"level":2,"title":"ORA-28001，口令已经失效","slug":"ora-28001-口令已经失效","link":"#ora-28001-口令已经失效","children":[]},{"level":2,"title":"修改数据库密码","slug":"修改数据库密码","link":"#修改数据库密码","children":[]},{"level":2,"title":"修改Oracle数据库SGA和PGA大小","slug":"修改oracle数据库sga和pga大小","link":"#修改oracle数据库sga和pga大小","children":[]},{"level":2,"title":"oracle连接提示ORA-12505问题","slug":"oracle连接提示ora-12505问题","link":"#oracle连接提示ora-12505问题","children":[]},{"level":2,"title":"oracle数据库导出序列问题","slug":"oracle数据库导出序列问题","link":"#oracle数据库导出序列问题","children":[]},{"level":2,"title":"Oracle11g不能导出空表的解决办法","slug":"oracle11g不能导出空表的解决办法","link":"#oracle11g不能导出空表的解决办法","children":[]},{"level":2,"title":"无法转换为环境字符串句柄","slug":"无法转换为环境字符串句柄","link":"#无法转换为环境字符串句柄","children":[]}],"git":{"createdTime":1695484404000,"updatedTime":1695484404000,"contributors":[{"name":"azrng","username":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":12.48,"words":3743},"filePathRelative":"dataBase/oracle/oracleshiyongwenti/oracleshiyongwenti.md","localizedDate":"2023年9月23日","excerpt":"<h2>乱码</h2>\\n<p>打开SQL plus后发现现实文字是乱码，这个时候需要点击右键属性，然后勾选旧版控制台。并重新打开sqlplus,\\"修改默认代码页\\"，把“437 OEM 美国”改为“936 ANSI/OEM 简体中文（GBK）”。<br>\\n创建数据库时候提示Enterprise Manager配置失败的解决办法 无法打开OEM的解决办法&nbsp; <a href=\\"https://blog.csdn.net/zyf19930610/article/details/51262253\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">链接</a><br>\\n连接数据库时候一直提示用户名不存在，但是真实存在该用户，并且已经赋予权限，并且可以在本地数据库工具中可以连接上，最后解决办法：不能将用户名和数据库名称设置一致，如果设置一致可能就会出这个错误。</p>","autoDesc":true}');export{N as comp,I as data};
