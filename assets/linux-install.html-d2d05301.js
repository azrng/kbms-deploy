import{_ as a}from"./plugin-vue_export-helper-c27b6911.js";import{r as n,o as s,c as d,a as e,b as t,d as r,e as l}from"./app-3c3dee46.js";const c={},o=l(`<h2 id="_1-需要先安装java环境" tabindex="-1"><a class="header-anchor" href="#_1-需要先安装java环境" aria-hidden="true">#</a> 1.需要先安装java环境</h2><p>该文章再linux目录下有讲解。</p><h2 id="_2-安装jenkins" tabindex="-1"><a class="header-anchor" href="#_2-安装jenkins" aria-hidden="true">#</a> 2. 安装jenkins</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key
yum install jenkins　-y
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装完提示信息：</p><figure><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/1611112925421-2ad63960-9bdb-49dd-9298-10e696864a57.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>默认安装后的端口绑定的是8080，如果你想更改请进入文件编辑JENKINS_PORT属性项。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>vim /etc/sysconfig/jenkins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果你使用的是root用户（没有单独创建一个jenkins的用户），那么建议进入上面的配置文件编辑JENKINS_USER属性项将jenkins改为root。</p><figure><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/1611112925269-8df476b8-b1f3-4bc3-b389-289f9efc235c.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="_3-配置jenkins" tabindex="-1"><a class="header-anchor" href="#_3-配置jenkins" aria-hidden="true">#</a> 3. 配置jenkins</h2><h3 id="_3-1-加入开启启动项" tabindex="-1"><a class="header-anchor" href="#_3-1-加入开启启动项" aria-hidden="true">#</a> 3.1 加入开启启动项</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>systemctl start jenkins
systemctl enable jenkins
systemctl daemon-reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-修改目录权限" tabindex="-1"><a class="header-anchor" href="#_3-2-修改目录权限" aria-hidden="true">#</a> 3.2 修改目录权限：</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>chown -R root:root /var/lib/jenkins
chown -R root:root /var/cache/jenkins
chown -R root:root /var/log/jenkins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>***Tip：***在 Shell 中，可以使用chown命令来改变文件所有者。chown命令是change owner（改变拥有者）的缩写。-R代表进行递归( recursive )的持续更改，即连同子目录下的所有文件、目录都更新成为这个用户组，常常用在更改某一目录的情况。</p><h3 id="_3-3-重启jenkins服务" tabindex="-1"><a class="header-anchor" href="#_3-3-重启jenkins服务" aria-hidden="true">#</a> 3.3 重启Jenkins服务</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>service jenkins restart
ps -ef | grep jenkins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>提示信息如下图所示：</p><figure><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/1611112988838-0a6cf095-8f9c-4f6e-aeb7-973927bf7883.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>***PS：***启动Jenkins</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>systemctl start jenkins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>验证启动状态：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>systemctl status jenkins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/1611112988907-8eee8313-2387-4e5b-8cc9-b4c1546bcab4.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="_4-初始化jenkins" tabindex="-1"><a class="header-anchor" href="#_4-初始化jenkins" aria-hidden="true">#</a> 4. 初始化jenkins</h2><p>访问地址提示需要解锁</p><figure><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/1611113150109-908ce5c6-09ef-4d9e-bec4-54d7926e55e7.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>可以通过下面的命令查看管理员密码</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cat /var/lib/jenkins/secrets/initialAdminPassword
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>复制密码到文本框然后进入系统</p><h2 id="_5-允许通过防火墙" tabindex="-1"><a class="header-anchor" href="#_5-允许通过防火墙" aria-hidden="true">#</a> 5. 允许通过防火墙</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># Jenkins 默认运行在 8080 端口，允许8080端口通过防火墙
$ sudo firewall-cmd --zone=public --add-port=8080/tcp --permanent
$ sudo firewall-cmd --zone=public --add-service=http --permanent
$ sudo firewall-cmd --reload

# 或者直接关闭防火墙
$ sudo firewall-cmd --state                    # 查看防火墙状态
$ sudo systemctl stop firewalld.service        # 停止防火墙
$ sudo systemctl disable firewalld.service     # 禁用防火墙开机启动

$ sudo systemctl enable firewalld.service      # 起用防火墙开机启动
$ sudo systemctl start firewalld.service       # 禁用防火墙开机启动
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考教程" tabindex="-1"><a class="header-anchor" href="#参考教程" aria-hidden="true">#</a> 参考教程</h2>`,34),u={href:"https://www.cnblogs.com/liudecai/p/14770969.html",target:"_blank",rel:"noopener noreferrer"};function m(v,g){const i=n("ExternalLinkIcon");return s(),d("div",null,[o,e("p",null,[e("a",u,[t("https://www.cnblogs.com/liudecai/p/14770969.html"),r(i)])])])}const b=a(c,[["render",m],["__file","linux-install.html.vue"]]);export{b as default};
