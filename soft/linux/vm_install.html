<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mister-hope.github.io/kbms/soft/linux/vm_install.html"><meta property="og:site_name" content="知识库"><meta property="og:title" content="Vm安装centos"><meta property="og:description" content="工欲善其事， 必先利其器。我的本机操作系统是 Windows， 准备在 VMWare 虚拟机上安装 CentOS，所以需要先下载安装 VMware， 我下载的版本是 VMware Workstation Pro 14.1。 方法一 - 官网下载：进入下载页面， 选择对应的版本和对应的系统，点击【转至下载】 官网下载地址：https://my.vmwar..."><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-12-09T02:19:17.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="azrng"><meta property="article:tag" content="linux"><meta property="article:published_time" content="2021-02-22T00:00:00.000Z"><meta property="article:modified_time" content="2022-12-09T02:19:17.000Z"><title>Vm安装centos | 知识库</title><meta name="description" content="工欲善其事， 必先利其器。我的本机操作系统是 Windows， 准备在 VMWare 虚拟机上安装 CentOS，所以需要先下载安装 VMware， 我下载的版本是 VMware Workstation Pro 14.1。 方法一 - 官网下载：进入下载页面， 选择对应的版本和对应的系统，点击【转至下载】 官网下载地址：https://my.vmwar...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/kbms/assets/style.ff819d8f.css" as="style" /><link rel="stylesheet" href="/kbms/assets/style.ff819d8f.css" />
    <link rel="modulepreload" href="/kbms/assets/app.cc52523d.js"><link rel="modulepreload" href="/kbms/assets/framework.35562d63.js"><link rel="modulepreload" href="/kbms/assets/vm_install.html.5b7099af.js"><link rel="modulepreload" href="/kbms/assets/vm_install.html.ce35d779.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/kbms/" class="brand"><img class="logo" src="/kbms/logo.svg" alt="知识库"><!----><span class="site-name hide-in-pad">知识库</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/kbms/" class="nav-link" aria-label="首页"><span class="icon iconfont icon-home"></span>首页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/web/introduce.html" class="nav-link" aria-label="Web"><!---->Web<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/csharp/predefined-type.html" class="nav-link" aria-label="csharp"><!---->csharp<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/dotnetcore/base.html" class="nav-link" aria-label="dotnetcore"><!---->dotnetcore<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/middleware/yapi.html" class="nav-link" aria-label="中间件"><!---->中间件<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/db/base.html" class="nav-link" aria-label="数据库"><!---->数据库<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/soft/soft-collection.html" class="nav-link" aria-label="软件"><!---->软件<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/interview/anti-fraud.html" class="nav-link" aria-label="面试"><!---->面试<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/aboutme/aboutme.html" class="nav-link" aria-label="个人介绍"><!---->个人介绍<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">单个</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/soft-collection.html" class="nav-link sidebar-link sidebar-page" aria-label="软件合集"><!---->软件合集<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/open_source_protocol.html" class="nav-link sidebar-link sidebar-page" aria-label="常见开源协议"><!---->常见开源协议<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/uos.html" class="nav-link sidebar-link sidebar-page" aria-label="虚拟机玩UOS"><!---->虚拟机玩UOS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/small/picgo.html" class="nav-link sidebar-link sidebar-page" aria-label="PicGo图床"><!---->PicGo图床<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/postman.html" class="nav-link sidebar-link sidebar-page" aria-label="Postman使用教程"><!---->Postman使用教程<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Jenkins</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/jenkins/base.html" class="nav-link sidebar-link sidebar-page" aria-label="Jenkins"><!---->Jenkins<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/jenkins/free-style.html" class="nav-link sidebar-link sidebar-page" aria-label="自由风格任务"><!---->自由风格任务<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/jenkins/docker-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Docker安装"><!---->Docker安装<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/jenkins/linux-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Linux安装"><!---->Linux安装<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading active"><!----><span class="title">Linux</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/linux/catalog.html" class="nav-link sidebar-link sidebar-page" aria-label="常见目录文件命令"><!---->常见目录文件命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/kbms/soft/linux/vm_install.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Vm安装centos"><!---->Vm安装centos<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/linux/vm_install.html#测试虚拟机访问外网" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="测试虚拟机访问外网"><!---->测试虚拟机访问外网<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/linux/vm_install.html#测试虚拟机访问主机" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="测试虚拟机访问主机"><!---->测试虚拟机访问主机<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/linux/vm_install.html#测试主机访问虚拟机" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="测试主机访问虚拟机"><!---->测试主机访问虚拟机<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/kbms/soft/linux/hyper-v_install.html" class="nav-link sidebar-link sidebar-page" aria-label="Hyper-v安装centos7"><!---->Hyper-v安装centos7<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Visual Studio</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/visualstudio/use-skill.html" class="nav-link sidebar-link sidebar-page" aria-label="调试效率技巧"><!---->调试效率技巧<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/visualstudio/install.html" class="nav-link sidebar-link sidebar-page" aria-label="安装"><!---->安装<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Docker</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/docker/base.html" class="nav-link sidebar-link sidebar-page" aria-label="Docker"><!---->Docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/docker/install-services.html" class="nav-link sidebar-link sidebar-page" aria-label="Docker可视化"><!---->Docker可视化<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/docker/mark-small-image.html" class="nav-link sidebar-link sidebar-page" aria-label="制作精简的镜像"><!---->制作精简的镜像<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/docker/windows-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Windows安装docker"><!---->Windows安装docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/docker/linux-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Linux安装docker"><!---->Linux安装docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Jenkins</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/aboutme/aboutme.html" class="nav-link sidebar-link sidebar-page" aria-label="关于我"><!---->关于我<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Kubernetes</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/kubernetes/base.html" class="nav-link sidebar-link sidebar-page" aria-label="介绍"><!---->介绍<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/kubernetes/base_concept.html" class="nav-link sidebar-link sidebar-page" aria-label="常用概念"><!---->常用概念<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/kubernetes/network.html" class="nav-link sidebar-link sidebar-page" aria-label="网络通信原理"><!---->网络通信原理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/kubernetes/service_discovery.html" class="nav-link sidebar-link sidebar-page" aria-label="服务发现"><!---->服务发现<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Git</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/code-version/base_theory.html" class="nav-link sidebar-link sidebar-page" aria-label="Git基本原理"><!---->Git基本原理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/code-version/github-base.html" class="nav-link sidebar-link sidebar-page" aria-label="快速入门GitHub"><!---->快速入门GitHub<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/code-version/wazgit.html" class="nav-link sidebar-link sidebar-page" aria-label="安装Git"><!---->安装Git<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/code-version/gitlabinstall.html" class="nav-link sidebar-link sidebar-page" aria-label="安装Gitlab"><!---->安装Gitlab<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Vm安装centos</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">azrng</span></span><span property="author" content="azrng"></span></span><span class="origin">原创</span><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2021-02-22T00:00:00.000Z"></span><span class="category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category6 clickable" role="navigation">soft</span></li></ul><meta property="articleSection" content="soft"></span><span aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li><span class="tag tag6 clickable" role="navigation">linux</span></li></ul><meta property="keywords" content="linux"></span><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 15 分钟</span><meta property="timeRequired" content="PT15M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/linux/vm_install.html#测试虚拟机访问外网" class="router-link-active router-link-exact-active toc-link level2">测试虚拟机访问外网</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/linux/vm_install.html#测试虚拟机访问主机" class="router-link-active router-link-exact-active toc-link level2">测试虚拟机访问主机</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/linux/vm_install.html#测试主机访问虚拟机" class="router-link-active router-link-exact-active toc-link level2">测试主机访问虚拟机</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="vmware安装centos" tabindex="-1"><a class="header-anchor" href="#vmware安装centos" aria-hidden="true">#</a> <strong>VMware</strong>安装Centos</h1><p>工欲善其事， 必先利其器。我的本机操作系统是 Windows， 准备在 VMWare 虚拟机上安装 CentOS，所以需要先下载安装 VMware， 我下载的版本是 VMware Workstation Pro 14.1。</p><h1 id="vmware-下载" tabindex="-1"><a class="header-anchor" href="#vmware-下载" aria-hidden="true">#</a> VMware 下载</h1><p>方法一 - 官网下载：进入下载页面， 选择对应的版本和对应的系统，点击【转至下载】</p><blockquote><p>官网下载地址：<a href="https://my.vmware.com/cn/web/vmware/info/slug/desktop_end_user_computing/vmware_workstation_pro/14_0" target="_blank" rel="noopener noreferrer">https://my.vmware.com/cn/web/vmware/info/slug/desktop_end_user_computing/vmware_workstation_pro/14_0<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121052491.webp" alt="图片" loading="lazy"></p><p>方法二 - 百度云下载：如果觉得去官网下载很麻烦，也可以下载我分享的 VMware安装包</p><blockquote><p>链接：<a href="https://pan.baidu.com/s/19_fq_BJMb6rbNJ8s0HVMZA" target="_blank" rel="noopener noreferrer">https://pan.baidu.com/s/19_fq_BJMb6rbNJ8s0HVMZA<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>提取码：smop</p><p>复制这段内容后打开百度网盘手机App，操作更方便哦</p></blockquote><h1 id="vmware-安装" tabindex="-1"><a class="header-anchor" href="#vmware-安装" aria-hidden="true">#</a> VMware 安装</h1><p>VMware 安装包下载完成后， 双击安装包就会弹出安装界面， 安装一般软件安装流程， 一直点击下一步就可安装成功。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121052794.webp" alt="图片" loading="lazy"></p><p>安装过程中需要输入注册码， 这里提供一个可用的注册码给大家， 如果不可用，百度一般都可搜索到相应版本的注册码</p><blockquote><p>注册码：YC592-8VF55-M81AZ-FWW5T-WVRV0</p></blockquote><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121052681.webp" alt="图片" loading="lazy"></p><h1 id="centos-下载安装" tabindex="-1"><a class="header-anchor" href="#centos-下载安装" aria-hidden="true">#</a> CentOS 下载安装</h1><p>VMware 安装成功后， 需要先下载 CentOS 系统镜像， 然后在 VMware 虚拟机上安装。</p><p>官网下载地址： <a href="https://www.centos.org/download/" target="_blank" rel="noopener noreferrer">https://www.centos.org/download/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ，官网提供了多种格式的镜像文件下载， 推荐选择【**DVD ISO 】**版本下载。</p><ul><li>Minimal ISO ： 精简版镜像， CentOS 系统最小安装包， 只有命令行界面</li><li>DVD ISO： 普通光盘完整安装版镜像， 可以安装图形界面， 包含大量的常用软件</li><li>Everything ISO： 对 DVD ISO 软件进行补充， 集成了所有所需的软件</li></ul><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121054072.webp" alt="img" loading="lazy"></p><p>选择 【DVD ISO】， 进入 CentOS 镜像列表，选择其中一个链接点击下载， 当然最好选择所处区域站点的镜像， 获取资源的速度比较快。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121054594.webp" alt="图片" loading="lazy"></p><p>我选择下载 CentOS 7： CentOS-7-x86_64-DVD-1804.iso， 下载完成后镜像文件大小为 4G 多。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121054811.webp" alt="图片" loading="lazy"></p><h1 id="创建虚拟机" tabindex="-1"><a class="header-anchor" href="#创建虚拟机" aria-hidden="true">#</a> 创建虚拟机</h1><p>CentOS 系统镜像下载完成后， 使用 VMware 安装系统前需要先创建一个虚拟机，然后在创建的虚拟机上安装 CentOS 系统。 打开 VMware 软件， 点击【创建新的虚拟机】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121055025.webp" alt="图片" loading="lazy"></p><p>进行虚拟机新建引导， 选择【自定义（高级）】， 点击【下一步】。</p><p>自定义选项可以自定义虚拟机属性 ，也可以直接选择典型选项， 使用默认属性。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121055672.webp" alt="图片" loading="lazy"></p><p>我安装的是 VMware 14 版本，所以硬件兼容性选择【Workstation 14.x】, 然后点击【下一步】。</p><p>硬件兼容性决定了虚拟机的硬件限制， 后面自定义的虚拟机属性不能超过这些限制。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121055851.webp" alt="图片" loading="lazy"></p><p>选择【稍后安装操作系统】，然后点击【下一步】。</p><p>我们先创建好虚拟机，定义好属性， 就好像未拆的笔记本， 此时只是一台裸机， 硬盘还是空白的， 只有安装系统后才能使用。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121055335.webp" alt="图片" loading="lazy"></p><p>系统选择【Linux】, 版本选择【CentOS 7 64 位】， 然后点击【下一步】。</p><ul><li>选择 Linux： 我安装的是 CentOS 系统， 是属于 Linux 的一种</li><li>选择 CentOS 7： 下载的版本是 CentOS 7，版本要相互对应</li><li>64 位： 我的主机是 64 位的， 位数要相互对应</li></ul><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121055944.webp" alt="图片" loading="lazy"></p><p>输入虚拟机名称以及虚拟机安装的位置，点击【下一步】。</p><ul><li>虚拟机名称： VMware 可以创建多个虚拟机， 命名用以区分</li><li>虚拟机位置： 虚拟机安装在哪儿</li></ul><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121055770.webp" alt="图片" loading="lazy"></p><p>根据主机的处理器配置以及性能考虑， 选择合适的数量，如果设置的超过 CPU 配置会有提示 。 比如我的主机 CPU 是双核 4 线程（可以查询自己主机配置），处理器数量选择 1， 每个处理器的内核数量选择 2， 然后点击【下一步】。</p><ul><li>处理器数量： 指的是 CPU 的核数， 而不是 CPU 的颗数</li><li>每个处理器的内核数量： 指的是 CPU 的线程数， 而不是 CPU 的核数</li><li>处理器内核总数：上两个选项的乘积</li></ul><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121055921.webp" alt="图片" loading="lazy"></p><p>设置虚拟机内存大小为 4G， 然后点击【下一步】。</p><p>设置的虚拟机内存是受主机内存限制的， 比如我的主机内存为 8G，为了体验和性能， 设置虚拟机内存为 4G。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121056065.webp" alt="图片" loading="lazy"></p><p>选择【使用网络地址转换（NAT）】， 然后点击【下一步】。</p><p>这是设置虚拟机访问网络的方式， 后面会介绍。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121056621.webp" alt="img" loading="lazy"></p><p>选择推荐的【LSI Logic】， 然后点击【下一步】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121056860.webp" alt="图片" loading="lazy"></p><p>选择推荐的【SCSI】， 然后点击【下一步】。</p><p>上一步 IO 控制器选择了【LSI Logic】， 【LSI Logic 】适配器已提高性能，与通用 SCSI 设备结合使用效果更好。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121056808.webp" alt="图片" loading="lazy"></p><p>选择【创建新虚拟磁盘】，然后点击【下一步】。</p><p>虚拟磁盘相当于主机的硬盘， 系统安装在虚拟磁盘中 。因为我是创建一个新的虚拟机， 所以选择创建新的虚拟磁盘。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121057508.webp" alt="图片" loading="lazy"></p><p>设置虚拟机磁盘容量， 我设置 80G， 选择【将虚拟磁盘存储为单个文件】</p><p>虚拟磁盘由一个或多个虚拟磁盘文件构成， 虚拟磁盘文件用于存储虚拟机硬盘驱动器的内容， 文件中几乎所有的内容都是虚拟机数据。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121057465.webp" alt="图片" loading="lazy"></p><p>选择虚拟磁盘的存储位置， 然后点击【下一步】。</p><p>由于上一步选择将虚拟磁盘存储为单个文件， 所以指定的就是虚拟磁盘的存储位置。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121057374.webp" alt="图片" loading="lazy"></p><p>上述自定义设置完成， 虚拟机属性就定义好了，点击【完成】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121057280.webp" alt="图片" loading="lazy"></p><h1 id="虚拟机设置" tabindex="-1"><a class="header-anchor" href="#虚拟机设置" aria-hidden="true">#</a> 虚拟机设置</h1><p>虚拟机创建完成， 还可以进一步对虚拟机进行设置， 点击【编辑虚拟机设置】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121057679.webp" alt="图片" loading="lazy"></p><p>设置系统镜像， 使用 ISO 系统镜像安装系统， 镜像文件位置为前面下载的 CentOS-7-x86_64-DVD-1804.iso 的存储路径。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121058152.webp" alt="img" loading="lazy"></p><h1 id="centos-安装" tabindex="-1"><a class="header-anchor" href="#centos-安装" aria-hidden="true">#</a> CentOS 安装</h1><p>虚拟机创建配置完成， 设置完系统镜像， 就可以启动虚拟机， 虚拟机就会引导安装 CentOS 系统了。点击【开启此虚拟机】</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121058690.webp" alt="图片" loading="lazy"></p><p>进入 CentOS 安装界面， 选择【install CentOS 7】，点击【Enter】键。</p><ul><li>鼠标点击焦点进入安装界面</li><li>点击【Ctrl + Alt】返回主页面</li><li>↑ 键向上移动选择</li><li>↓ 键向下移动选择</li></ul><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121058446.webp" alt="图片" loading="lazy"></p><p>进入系统设置， 选择【中文】， 点击【继续】。当然你也可以根据需要选择其他语言。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121058983.webp" alt="img" loading="lazy"></p><p>设置时区， 根据自己所处时区选择， 我选择上海时间，点击【完成】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121058460.webp" alt="图片" loading="lazy"></p><p>设置语言，根据需要选择，我选择【简体中文】， 点击【完成】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121058354.webp" alt="图片" loading="lazy"></p><p>设置键盘布局， 设置中英文切换的快捷键， 我选择【Ctrl + Shift】， 点击【完成】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121058499.webp" alt="图片" loading="lazy"></p><p>设置安装源， 前面设置使用 ISO 镜像文件， 这里选择【自动检测到的安装介质】， 点击【完成】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121059869.webp" alt="图片" loading="lazy"></p><p>设置系统安装方式， 我选择【最小安装】， 点击【完成】。</p><ul><li>最小安装： 安装完成后只有命令行， 通过指令操作</li><li>GNOME： 安装完成后是图形化界面， 类似 Windows</li></ul><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121059631.webp" alt="图片" loading="lazy"></p><p>设置主机名【sam】， 网络后面会设置， 点击【完成】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121059995.webp" alt="图片" loading="lazy"></p><p>准备磁盘分区， 选择【我要配置分区】， 点击【完成】。</p><p>创建虚拟机分配了一个虚拟磁盘， 现在为了便于管理，对磁盘进行分区， 类似于 Windows 系统中硬盘被分成了 C盘、D盘 ...</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121059214.webp" alt="图片" loading="lazy"></p><p>点击【+】新建挂载点，挂载点就相当于 Windows 系统中的盘符。</p><p>基本分区规划：</p><ul><li>/boot： 引导分区，建议 300 - 500M，设备类型为标准分区， 文件系统为 XFS</li><li>swap：交换区， 设备类型为标准分区， 文件系统为 swap， 一般为内存的 2 倍</li><li>/：根分区， 系统的起点， 设备类型为 LVM， 文件系统为 XFS</li></ul><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121059848.webp" alt="图片" loading="lazy"></p><p>点击【+】新建 /boot 挂载点， 容量 500 M， 设备类型为标准分区， 文件系统为 XFS。</p><p>创建一个 500M 的分区挂载到 /boot 下面， 分区内的文件系统为 XFS， 主要用来存放系统引导时使用的文件。</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/nNuQmjdvzPB0IHol4jIibsVvNROuIIxaP6JSw7DVel4JCHkCDPzAZjw9zTBEMdnGW230nK5icaOickvwI5j7bu0TA/640?tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片" loading="lazy"></p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121100083.webp" alt="img" loading="lazy"></p><p>点击【+】新建 /swap 挂载点， 容量 4096M， 设备类型为标准分区， 文件系统为 swap。</p><p>swap 是磁盘仿真成为内存，一旦服务器内存不够，操作系统可在swap暂存一些内存中放不下的东西</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121100131.webp" alt="img" loading="lazy"></p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121059990.webp" alt="图片" loading="lazy"></p><p>点击【+】新建 / 挂载点， 容量 40960M， 设备类型为 LVM， 文件系统为 XFS。</p><p>/ 表示根分区， 这个目录是系统的起点， 可以将虚拟磁盘剩余空间都分到此分区， 此时分区包含了 home、配置文件、数据文件等目录</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121101919.webp" alt="图片" loading="lazy"></p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121101929.webp" alt="图片" loading="lazy"></p><p>你还可以继续创建挂载点， 更精确的进行数据隔离， 全部创建完成后， 点击【完成】</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121101090.webp" alt="img" loading="lazy"></p><p>确认自定义的分区， 点击【接受更改】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121101882.webp" alt="图片" loading="lazy"></p><p>执行安装， 点击【ROOT 密码】</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121101006.webp" alt="图片" loading="lazy"></p><p>root 账户是管理员， 设置一个密码， 保存好， 别忘记了。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121101730.webp" alt="img" loading="lazy"></p><p>点击【创建用户】， 不勾选【将此用户做为管理员】， 创建一个非管理用户，输入用户名， 设置密码。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121101859.webp" alt="图片" loading="lazy"></p><p>系统安装完成， 点击【重启】。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121102465.webp" alt="图片" loading="lazy"></p><p>重启完成， 选择第一个， 点击【Enter】键启动系统。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121102628.webp" alt="图片" loading="lazy"></p><p>使用 root 账户登录， 输入 root 密码</p><ul><li>第一行：Linux 系统名称和版本</li><li>第二行：Linux 内核版本， 目前这个主机的硬件等级为 x86_64</li><li>第三行：sam 是主机名称，root 是用户名</li><li>第四行：输入对应密码</li><li>第五行：~ 表示目前所在的目录，root 默认提示符为#，一般用户提示符为 $</li></ul><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121102017.webp" alt="图片" loading="lazy"></p><p>至此， CentOS 7 成功安装完成</p><h1 id="网络配置" tabindex="-1"><a class="header-anchor" href="#网络配置" aria-hidden="true">#</a> 网络配置</h1><p><strong>网络地址转换模式 - NAT</strong></p><p>VMware 提供 <strong>Bridged（桥接模式）</strong>、<strong>NAT（网络地址转换模式）</strong>、<strong>Host-Only（仅主机模式）</strong> 3 种网络工作模式， 用于为虚拟机配置虚拟网络连接。我选择<strong>使用 NAT 模式</strong>， 当然你也可以使用其他模式。</p><h1 id="nat-模式" tabindex="-1"><a class="header-anchor" href="#nat-模式" aria-hidden="true">#</a> NAT 模式</h1><p>如果你的网络 ip 资源紧缺， 但是又希望你的虚拟机能够联网， 这时候 NAT 模式是最好的选择。 采用 NAT 模式最大的优势是虚拟系统接入互联网非常简单，你不需要进行任何其他的配置，只需要宿主机器能访问互联网即可。</p><p>设置虚拟机网络记得先关闭系统， 点击【编辑】， 选择【虚拟机网络编辑】</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121104395.webp" alt="图片" loading="lazy"></p><p>进入网络编辑界面， <strong>选择【NAT 模式】</strong>，NAT 模式， 即网络地址转换模式， 由于主机网卡有网络地址转换功能， NAT 会先将虚拟机在局域网中的 IP 转换为主机 IP，通过主机所在网络来访问外网。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121104883.webp" alt="图片" loading="lazy"></p><p><strong>勾选【将主机虚拟机适配器连接到此网络】</strong>， NAT 可以实现虚拟机访问外部网络， 但并不能实现与主机的相互访问， 这就要用到虚拟网卡。在 CentOS 系统安装时， 会在主机上安装 2 个虚拟网卡适配器， 其中 VMware Network Adapter VMnet8 就是实现 NAT 模式中虚拟机与主机的相互访问。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121104230.webp" alt="图片" loading="lazy"></p><p><strong>去掉勾选【使用本地 DHCP 服务将 IP 地址分配给虚拟机】</strong>， VMware 下可以有多个虚拟机， 每个虚拟机都有一个 IP， 如果使用 DHCP 服务， 会设置一个 IP 地址范围， 当虚拟机启动时会在设置的范围内动态分配一个 IP。 因为后面我会使用 XShell 通过虚拟机 IP 远程控制 CentOS，如果每次启动的 IP 都是动态的很不方便， 所以不是 DHCP 服务， 而是使用一个静态 IP。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121104461.webp" alt="图片" loading="lazy"></p><p>子网 IP为：192.168.91.0， 子网掩码为： 255.255.255.0， 则虚拟机 IP 范围为 192.168.91.0 - 192.168.91.255， 其中 192.168.91.0 和 192.168.91.255 有其他用途（广播）， 所以其他的都可以设置。</p><p><strong>点击【NAT 设置】</strong>， 设置网关 IP 为 192.168.91.2， <strong>点击【添加】</strong>， 设置当前虚拟机的 ip 为 192.168.91.3， 主机就可以通过此 IP 访问虚拟机。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121104007.webp" alt="图片" loading="lazy"></p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121105652.webp" alt="图片" loading="lazy"></p><p>虚拟机网络设置完成，点击【确定】。</p><h1 id="虚拟网卡" tabindex="-1"><a class="header-anchor" href="#虚拟网卡" aria-hidden="true">#</a> 虚拟网卡</h1><p>虚拟机和主机的相互访问是通过主机网络连接中的 VMware Network Adapter VMnet8 虚拟网卡来实现的， 所以虚拟网卡的 IP 和虚拟机 IP 应属于同一网段， 子网掩码和网关应该一致。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121105370.webp" alt="图片" loading="lazy"></p><p>点击【 VMware Network Adapter VMnet8】， 右键属性， 选择【Internet 协议版本 4】， 勾选手动设置 IP 地址：</p><ul><li>IP 地址： 192.168.91.1， 与虚拟机网段一致</li><li>子网掩码、默认网关和 DNS 跟虚拟机保持一致</li></ul><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121105660.webp" alt="图片" loading="lazy"></p><p>如果虚拟机和主机相互无法访问， 不妨看一下 VMware Network Adapter VMnet8 虚拟网卡是否没有设置 IP。</p><h1 id="网卡配置文件" tabindex="-1"><a class="header-anchor" href="#网卡配置文件" aria-hidden="true">#</a> 网卡配置文件</h1><p>虚拟机网络配置完成， 启动系统， 设置虚拟机静态 IP， 编辑网卡配置文件， CentOS 7 命令：</p><blockquote><p>vi /etc/sysconfig/network-scripts/ifcfg-ens33</p></blockquote><ol><li><p>编辑网卡配置文件：<strong>vi /etc/sysconfig/network-scripts/ifcfg-ens33</strong>，进入命令模式</p></li><li><p>在命令模式点击按键【<strong>i</strong>】，进入<strong>编辑模式</strong>，修改：</p></li><li><ul><li>修改协议类型：BOOTPROTO=static</li><li>修改启动时激活：ONBOOT=yes</li><li>新增静态网络IP地址：IPADDR=192.168.91.3</li><li>新增子网掩码：NETMASK=255.255.255.0，跟上面 NAT 设置中一致</li><li>新增网关：GATEWAY=192.168.91.2，跟上面 NAT 设置中一</li><li>新增DNS1：DNS1=192.168.1.1</li><li>新增DNS2：DNS2=192.168.0.2</li></ul></li><li><p>编辑完成， 在编辑模式点击按键【<strong>Esc</strong>】，退出进入命令模式，输入【<strong>:wq</strong>】保存并退出命令模式</p></li></ol><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121105555.webp" alt="图片" loading="lazy"></p><p>网卡配置文件编辑完成， 需要重启网卡才能生效。 CentOS 7 重启网卡命令：</p><blockquote><p>systemctl restart network</p></blockquote><h1 id="测试虚拟机访问" tabindex="-1"><a class="header-anchor" href="#测试虚拟机访问" aria-hidden="true">#</a> 测试虚拟机访问</h1><p>虚拟机网络设置完成， CentOS 7 网卡配置文件修改完成， 现在来测试一下虚拟机是否能访问外网以及虚拟机和主机的相互访问。</p><h2 id="测试虚拟机访问外网" tabindex="-1"><a class="header-anchor" href="#测试虚拟机访问外网" aria-hidden="true">#</a> 测试虚拟机访问外网</h2><p>虚拟机是通过主机网络访问外网， 通过 ping 命令可以测试虚拟机是否可以访问外网， 比如测试虚拟机是否能 ping 通百度。 点击【Win + R】， 输入【cmd】， 进入控制台， 输入：</p><blockquote><p>ping -c 4 <a href="http://www.baidu.com" target="_blank" rel="noopener noreferrer">www.baidu.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>ping -c n 是输出 n 行， 避免一直输出， 如果没有使用 -c， 会一直输出， 点击【Ctrl+c】即可结束输出</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121106746.webp" alt="图片" loading="lazy"></p><p>由于笔记本可以携带， 家里和公司的 DSN 是不同的， ping 外网是不通的， 这时需要查询一下家里或公司网络 DNS， 按上面的步骤修改网卡配置文件中的 DNS， 修改完成就可 ping 通了。</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121106348.webp" alt="图片" loading="lazy"></p><p>点击【Win + R】， 输入【cmd】， 进入控制台， 查询 DNS 命令：</p><blockquote><p>ipconfig /all</p></blockquote><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121106134.webp" alt="图片" loading="lazy"></p><h2 id="测试虚拟机访问主机" tabindex="-1"><a class="header-anchor" href="#测试虚拟机访问主机" aria-hidden="true">#</a> 测试虚拟机访问主机</h2><p>首先查询主机 ip， 点击【Win+R】， 输入【cmd】，进入控制台， 在命令行输入 ipconfig /all，查询主机ip为: 192.168.0.127</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121107783.webp" alt="图片" loading="lazy"></p><p>测试虚拟机访问主机：ping -c 4 192.168.0.127</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121107734.webp" alt="图片" loading="lazy"></p><h2 id="测试主机访问虚拟机" tabindex="-1"><a class="header-anchor" href="#测试主机访问虚拟机" aria-hidden="true">#</a> 测试主机访问虚拟机</h2><p>上面我设置的虚拟机静态 IP 为：192.168.91.3， 点击【Win + R】， 输入【cmd】， 执行： ping 192.168.91.3</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202112121107405.webp" alt="图片" loading="lazy"></p><p>至此， 虚拟机网络设置介绍完成， 实现了虚拟机访问外网以及虚拟机和主机之间的相互访问。</p><h1 id="文章来源" tabindex="-1"><a class="header-anchor" href="#文章来源" aria-hidden="true">#</a> 文章来源</h1><p>本文转载自微信公众号[代码国度]</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/docs/soft/linux/vm_install.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><!----></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: zhang.yunpeng@synyi.com">zhangyunpeng</span>,<!--]--><!--[--><span class="contributor" title="email: itzhangyunpeng@163.com">azrng</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/kbms/soft/linux/catalog.html" class="nav-link prev" aria-label="常见目录文件命令"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->常见目录文件命令</div></a><a href="/kbms/soft/linux/hyper-v_install.html" class="nav-link next" aria-label="Hyper-v安装centos7"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">Hyper-v安装centos7<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright © 2022 azrng</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/kbms/assets/app.cc52523d.js" defer></script>
  </body>
</html>
