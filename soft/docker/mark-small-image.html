<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mister-hope.github.io/kbms/soft/docker/mark-small-image.html"><meta property="og:site_name" content="çŸ¥è¯†åº“"><meta property="og:title" content="åˆ¶ä½œç²¾ç®€çš„é•œåƒ"><meta property="og:description" content="å‰æ®µæ—¶é—´ç½‘æ˜“èœ‚å·¢æ›¾ç»æ¨å‡ºèœ‚å·¢ Logo Tæ¤ï¼Œç”¨çš„æ­£æ˜¯ Docker é•œåƒåˆ¶ä½œï¼Œæœ€ç¥å¥‡çš„æ˜¯ï¼Œå®ƒæœ€ç»ˆçš„é•œåƒå¤§å°åªæœ‰ 585 å­—èŠ‚ã€‚ æœ‰äº›é•œåƒéƒ½ä¸æ˜¯æˆ‘ä»¬è‡ªå·±æ¥æ‰“åŒ…çš„ï¼ˆæ¯”å¦‚ä¸‹è½½å…¬å…±é•œåƒï¼‰ï¼Œé‚£æ˜¯å¦æœ‰ä¸€äº›é€šç”¨çš„ç²¾ç®€ Docker é•œåƒçš„æ‰‹æ®µå‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œç”šè‡³æœ‰çš„é•œåƒå¯ä»¥ç²¾ç®€ 98%ã€‚ç²¾ç®€é•œåƒå¤§å°çš„å¥½å¤„ä¸è¨€è€Œå–»ï¼Œæ—¢èŠ‚çœäº†å­˜å‚¨ç©ºé—´ï¼Œåˆèƒ½èŠ‚çœå¸¦å®½ï¼ŒåŠ å¿«ä¼ è¾“ç­‰ã€‚é‚£å¥½..."><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-12-09T02:19:17.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="azrng"><meta property="article:tag" content="docker"><meta property="article:published_time" content="2021-02-22T00:00:00.000Z"><meta property="article:modified_time" content="2022-12-09T02:19:17.000Z"><title>åˆ¶ä½œç²¾ç®€çš„é•œåƒ | çŸ¥è¯†åº“</title><meta name="description" content="å‰æ®µæ—¶é—´ç½‘æ˜“èœ‚å·¢æ›¾ç»æ¨å‡ºèœ‚å·¢ Logo Tæ¤ï¼Œç”¨çš„æ­£æ˜¯ Docker é•œåƒåˆ¶ä½œï¼Œæœ€ç¥å¥‡çš„æ˜¯ï¼Œå®ƒæœ€ç»ˆçš„é•œåƒå¤§å°åªæœ‰ 585 å­—èŠ‚ã€‚ æœ‰äº›é•œåƒéƒ½ä¸æ˜¯æˆ‘ä»¬è‡ªå·±æ¥æ‰“åŒ…çš„ï¼ˆæ¯”å¦‚ä¸‹è½½å…¬å…±é•œåƒï¼‰ï¼Œé‚£æ˜¯å¦æœ‰ä¸€äº›é€šç”¨çš„ç²¾ç®€ Docker é•œåƒçš„æ‰‹æ®µå‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œç”šè‡³æœ‰çš„é•œåƒå¯ä»¥ç²¾ç®€ 98%ã€‚ç²¾ç®€é•œåƒå¤§å°çš„å¥½å¤„ä¸è¨€è€Œå–»ï¼Œæ—¢èŠ‚çœäº†å­˜å‚¨ç©ºé—´ï¼Œåˆèƒ½èŠ‚çœå¸¦å®½ï¼ŒåŠ å¿«ä¼ è¾“ç­‰ã€‚é‚£å¥½...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/kbms/assets/style.ff819d8f.css" as="style" /><link rel="stylesheet" href="/kbms/assets/style.ff819d8f.css" />
    <link rel="modulepreload" href="/kbms/assets/app.cc52523d.js"><link rel="modulepreload" href="/kbms/assets/framework.35562d63.js"><link rel="modulepreload" href="/kbms/assets/mark-small-image.html.f769257b.js"><link rel="modulepreload" href="/kbms/assets/mark-small-image.html.9f829178.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/kbms/" class="brand"><img class="logo" src="/kbms/logo.svg" alt="çŸ¥è¯†åº“"><!----><span class="site-name hide-in-pad">çŸ¥è¯†åº“</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/kbms/" class="nav-link" aria-label="é¦–é¡µ"><span class="icon iconfont icon-home"></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/web/introduce.html" class="nav-link" aria-label="Web"><!---->Web<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/csharp/predefined-type.html" class="nav-link" aria-label="csharp"><!---->csharp<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/dotnetcore/base.html" class="nav-link" aria-label="dotnetcore"><!---->dotnetcore<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/middleware/yapi.html" class="nav-link" aria-label="ä¸­é—´ä»¶"><!---->ä¸­é—´ä»¶<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/db/base.html" class="nav-link" aria-label="æ•°æ®åº“"><!---->æ•°æ®åº“<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/soft/soft-collection.html" class="nav-link" aria-label="è½¯ä»¶"><!---->è½¯ä»¶<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/interview/anti-fraud.html" class="nav-link" aria-label="é¢è¯•"><!---->é¢è¯•<!----></a></div><div class="nav-item hide-in-mobile"><a href="/kbms/aboutme/aboutme.html" class="nav-link" aria-label="ä¸ªäººä»‹ç»"><!---->ä¸ªäººä»‹ç»<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">å•ä¸ª</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/soft-collection.html" class="nav-link sidebar-link sidebar-page" aria-label="è½¯ä»¶åˆé›†"><!---->è½¯ä»¶åˆé›†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/open_source_protocol.html" class="nav-link sidebar-link sidebar-page" aria-label="å¸¸è§å¼€æºåè®®"><!---->å¸¸è§å¼€æºåè®®<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/uos.html" class="nav-link sidebar-link sidebar-page" aria-label="è™šæ‹Ÿæœºç©UOS"><!---->è™šæ‹Ÿæœºç©UOS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/small/picgo.html" class="nav-link sidebar-link sidebar-page" aria-label="PicGoå›¾åºŠ"><!---->PicGoå›¾åºŠ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/postman.html" class="nav-link sidebar-link sidebar-page" aria-label="Postmanä½¿ç”¨æ•™ç¨‹"><!---->Postmanä½¿ç”¨æ•™ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Jenkins</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/jenkins/base.html" class="nav-link sidebar-link sidebar-page" aria-label="Jenkins"><!---->Jenkins<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/jenkins/free-style.html" class="nav-link sidebar-link sidebar-page" aria-label="è‡ªç”±é£æ ¼ä»»åŠ¡"><!---->è‡ªç”±é£æ ¼ä»»åŠ¡<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/jenkins/docker-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Dockerå®‰è£…"><!---->Dockerå®‰è£…<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/jenkins/linux-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Linuxå®‰è£…"><!---->Linuxå®‰è£…<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Linux</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/linux/catalog.html" class="nav-link sidebar-link sidebar-page" aria-label="å¸¸è§ç›®å½•æ–‡ä»¶å‘½ä»¤"><!---->å¸¸è§ç›®å½•æ–‡ä»¶å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/linux/vm_install.html" class="nav-link sidebar-link sidebar-page" aria-label="Vmå®‰è£…centos"><!---->Vmå®‰è£…centos<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/linux/hyper-v_install.html" class="nav-link sidebar-link sidebar-page" aria-label="Hyper-vå®‰è£…centos7"><!---->Hyper-vå®‰è£…centos7<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Visual Studio</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/visualstudio/use-skill.html" class="nav-link sidebar-link sidebar-page" aria-label="è°ƒè¯•æ•ˆç‡æŠ€å·§"><!---->è°ƒè¯•æ•ˆç‡æŠ€å·§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/visualstudio/install.html" class="nav-link sidebar-link sidebar-page" aria-label="å®‰è£…"><!---->å®‰è£…<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading active"><!----><span class="title">Docker</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/docker/base.html" class="nav-link sidebar-link sidebar-page" aria-label="Docker"><!---->Docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/docker/install-services.html" class="nav-link sidebar-link sidebar-page" aria-label="Dockerå¯è§†åŒ–"><!---->Dockerå¯è§†åŒ–<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="åˆ¶ä½œç²¾ç®€çš„é•œåƒ"><!---->åˆ¶ä½œç²¾ç®€çš„é•œåƒ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-1-åˆå§‹åŒ–æ„å»º-redis-é•œåƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="lab-1ï¼šåˆå§‹åŒ–æ„å»º Redis é•œåƒ"><!---->lab-1ï¼šåˆå§‹åŒ–æ„å»º Redis é•œåƒ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label><!----><!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-2-ä¼˜åŒ–åŸºç¡€é•œåƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="lab-2ï¼šä¼˜åŒ–åŸºç¡€é•œåƒ"><!---->lab-2ï¼šä¼˜åŒ–åŸºç¡€é•œåƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-3-ä¸²è”-dockerfile-æŒ‡ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="lab-3ï¼šä¸²è” Dockerfile æŒ‡ä»¤"><!---->lab-3ï¼šä¸²è” Dockerfile æŒ‡ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-4-å‹ç¼©ä½ çš„é•œåƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="lab-4ï¼šå‹ç¼©ä½ çš„é•œåƒ"><!---->lab-4ï¼šå‹ç¼©ä½ çš„é•œåƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-5-ä½¿ç”¨æœ€ç²¾ç®€çš„-base-image" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="lab-5ï¼šä½¿ç”¨æœ€ç²¾ç®€çš„ base image"><!---->lab-5ï¼šä½¿ç”¨æœ€ç²¾ç®€çš„ base image<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-6-æå–åŠ¨æ€é“¾æ¥çš„-so-æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="lab-6ï¼šæå–åŠ¨æ€é“¾æ¥çš„ .so æ–‡ä»¶"><!---->lab-6ï¼šæå–åŠ¨æ€é“¾æ¥çš„ .so æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-7-ä¸º-go-åº”ç”¨æ„å»ºç²¾ç®€é•œåƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="lab-7ï¼šä¸º Go åº”ç”¨æ„å»ºç²¾ç®€é•œåƒ"><!---->lab-7ï¼šä¸º Go åº”ç”¨æ„å»ºç²¾ç®€é•œåƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#æ€»ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ€»ç»“"><!---->æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#å‚è€ƒèµ„æ–™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚è€ƒèµ„æ–™"><!---->å‚è€ƒèµ„æ–™<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/kbms/soft/docker/windows-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Windowså®‰è£…docker"><!---->Windowså®‰è£…docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/docker/linux-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Linuxå®‰è£…docker"><!---->Linuxå®‰è£…docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Jenkins</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/aboutme/aboutme.html" class="nav-link sidebar-link sidebar-page" aria-label="å…³äºæˆ‘"><!---->å…³äºæˆ‘<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Kubernetes</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/kubernetes/base.html" class="nav-link sidebar-link sidebar-page" aria-label="ä»‹ç»"><!---->ä»‹ç»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/kubernetes/base_concept.html" class="nav-link sidebar-link sidebar-page" aria-label="å¸¸ç”¨æ¦‚å¿µ"><!---->å¸¸ç”¨æ¦‚å¿µ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/kubernetes/network.html" class="nav-link sidebar-link sidebar-page" aria-label="ç½‘ç»œé€šä¿¡åŸç†"><!---->ç½‘ç»œé€šä¿¡åŸç†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/kubernetes/service_discovery.html" class="nav-link sidebar-link sidebar-page" aria-label="æœåŠ¡å‘ç°"><!---->æœåŠ¡å‘ç°<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Git</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/kbms/soft/code-version/base_theory.html" class="nav-link sidebar-link sidebar-page" aria-label="GitåŸºæœ¬åŸç†"><!---->GitåŸºæœ¬åŸç†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/code-version/github-base.html" class="nav-link sidebar-link sidebar-page" aria-label="å¿«é€Ÿå…¥é—¨GitHub"><!---->å¿«é€Ÿå…¥é—¨GitHub<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/code-version/wazgit.html" class="nav-link sidebar-link sidebar-page" aria-label="å®‰è£…Git"><!---->å®‰è£…Git<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/kbms/soft/code-version/gitlabinstall.html" class="nav-link sidebar-link sidebar-page" aria-label="å®‰è£…Gitlab"><!---->å®‰è£…Gitlab<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->åˆ¶ä½œç²¾ç®€çš„é•œåƒ</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">azrng</span></span><span property="author" content="azrng"></span></span><span class="origin">åŸåˆ›</span><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2021-02-22T00:00:00.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category6 clickable" role="navigation">soft</span></li></ul><meta property="articleSection" content="soft"></span><span aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li><span class="tag tag2 clickable" role="navigation">docker</span></li></ul><meta property="keywords" content="docker"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 10 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT10M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-1-åˆå§‹åŒ–æ„å»º-redis-é•œåƒ" class="router-link-active router-link-exact-active toc-link level2">lab-1ï¼šåˆå§‹åŒ–æ„å»º Redis é•œåƒ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#" class="router-link-active router-link-exact-active toc-link level3"></a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-2-ä¼˜åŒ–åŸºç¡€é•œåƒ" class="router-link-active router-link-exact-active toc-link level2">lab-2ï¼šä¼˜åŒ–åŸºç¡€é•œåƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-3-ä¸²è”-dockerfile-æŒ‡ä»¤" class="router-link-active router-link-exact-active toc-link level2">lab-3ï¼šä¸²è” Dockerfile æŒ‡ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-4-å‹ç¼©ä½ çš„é•œåƒ" class="router-link-active router-link-exact-active toc-link level2">lab-4ï¼šå‹ç¼©ä½ çš„é•œåƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-5-ä½¿ç”¨æœ€ç²¾ç®€çš„-base-image" class="router-link-active router-link-exact-active toc-link level2">lab-5ï¼šä½¿ç”¨æœ€ç²¾ç®€çš„ base image</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-6-æå–åŠ¨æ€é“¾æ¥çš„-so-æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level2">lab-6ï¼šæå–åŠ¨æ€é“¾æ¥çš„ .so æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#lab-7-ä¸º-go-åº”ç”¨æ„å»ºç²¾ç®€é•œåƒ" class="router-link-active router-link-exact-active toc-link level2">lab-7ï¼šä¸º Go åº”ç”¨æ„å»ºç²¾ç®€é•œåƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#æ€»ç»“" class="router-link-active router-link-exact-active toc-link level2">æ€»ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/kbms/soft/docker/mark-small-image.html#å‚è€ƒèµ„æ–™" class="router-link-active router-link-exact-active toc-link level2">å‚è€ƒèµ„æ–™</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="åˆ¶ä½œç²¾ç®€çš„é•œåƒ" tabindex="-1"><a class="header-anchor" href="#åˆ¶ä½œç²¾ç®€çš„é•œåƒ" aria-hidden="true">#</a> åˆ¶ä½œç²¾ç®€çš„é•œåƒ</h1><h1 id="ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#ä»‹ç»" aria-hidden="true">#</a> ä»‹ç»</h1><p>å‰æ®µæ—¶é—´ç½‘æ˜“èœ‚å·¢æ›¾ç»æ¨å‡ºèœ‚å·¢ <code>Logo</code> Tæ¤ï¼Œç”¨çš„æ­£æ˜¯ Docker é•œåƒåˆ¶ä½œï¼Œæœ€ç¥å¥‡çš„æ˜¯ï¼Œå®ƒæœ€ç»ˆçš„é•œåƒå¤§å°åªæœ‰ <code>585</code> å­—èŠ‚ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker images | grep hub.c.163.com/public/logo
REPOSITORY                      TAG           IMAGE ID         CREATED       SIZE
hub.c.163.com/public/logo       latest        6fbdd13cd204     11 days ago   585 B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰äº›é•œåƒéƒ½ä¸æ˜¯æˆ‘ä»¬è‡ªå·±æ¥æ‰“åŒ…çš„ï¼ˆæ¯”å¦‚ä¸‹è½½å…¬å…±é•œåƒï¼‰ï¼Œé‚£æ˜¯å¦æœ‰ä¸€äº›é€šç”¨çš„ç²¾ç®€ Docker é•œåƒçš„æ‰‹æ®µå‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œç”šè‡³æœ‰çš„é•œåƒå¯ä»¥ç²¾ç®€ 98%ã€‚ç²¾ç®€é•œåƒå¤§å°çš„å¥½å¤„ä¸è¨€è€Œå–»ï¼Œæ—¢èŠ‚çœäº†å­˜å‚¨ç©ºé—´ï¼Œåˆèƒ½èŠ‚çœå¸¦å®½ï¼ŒåŠ å¿«ä¼ è¾“ç­‰ã€‚é‚£å¥½ï¼Œæ¥ä¸‹æ¥å°±è¯·è·Ÿéšæˆ‘æ¥å­¦ä¹ æ€ä¹ˆåˆ¶ä½œç²¾ç®€ Docker é•œåƒã€‚</p><h1 id="é•œåƒå±‚-layers" tabindex="-1"><a class="header-anchor" href="#é•œåƒå±‚-layers" aria-hidden="true">#</a> é•œåƒå±‚(Layers)</h1><p>åœ¨å¼€å§‹åˆ¶ä½œé•œåƒä¹‹å‰ï¼Œé¦–å…ˆäº†è§£ä¸‹é•œåƒçš„åŸç†ï¼Œè€Œè¿™å…¶ä¸­æœ€é‡è¦çš„æ¦‚å¿µå°±æ˜¯<code>é•œåƒå±‚(Layers)</code>ã€‚é•œåƒå±‚ä¾èµ–äºä¸€ç³»åˆ—çš„åº•å±‚æŠ€æœ¯ï¼Œæ¯”å¦‚æ–‡ä»¶ç³»ç»Ÿ(filesystems)ã€å†™æ—¶å¤åˆ¶(copy-on-write)ã€è”åˆæŒ‚è½½(union mounts)ç­‰ï¼Œå¹¸è¿çš„æ˜¯ä½ å¯ä»¥åœ¨å¾ˆå¤šåœ°æ–¹å­¦ä¹ åˆ°<strong>è¿™äº›æŠ€æœ¯</strong>[1]ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°æŠ€æœ¯ç»†èŠ‚ã€‚</p><p><img src="https://gitee.com/AZRNG/picture-storage/raw/master/kbms/202111142357144.webp" alt="å›¾ç‰‡" loading="lazy"></p><p>æ€»çš„æ¥è¯´ï¼Œä½ æœ€éœ€è¦è®°ä½è¿™ç‚¹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>åœ¨ Dockerfile ä¸­ï¼Œ æ¯ä¸€æ¡æŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªé•œåƒå±‚ï¼Œç»§è€Œä¼šå¢åŠ æ•´ä½“é•œåƒçš„å¤§å°ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸¾ä¾‹æ¥è¯´ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FROM busybox
RUN mkdir /tmp/foo
RUN dd if=/dev/zero of=/tmp/foo/bar bs=1048576 count=100
RUN rm /tmp/foo/bar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸Š Dockerfile å¹²äº†å‡ ä»¶äº‹ï¼š</p><ol><li>åŸºäºä¸€ä¸ªå®˜æ–¹çš„åŸºç¡€é•œåƒ busybox(åªæœ‰1Må¤š)</li><li>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹(/tmp/foo)å’Œä¸€ä¸ªæ–‡ä»¶(bar)ï¼Œè¯¥æ–‡ä»¶åˆ†é…äº†100Må¤§å°</li><li>å†æŠŠè¿™ä¸ªå¤§æ–‡ä»¶åˆ é™¤</li></ol><p>å®é™…ä¸Šå®ƒæœ€ç»ˆä»€ä¹ˆä¹Ÿæ²¡åšï¼Œæˆ‘ä»¬æŠŠå®ƒæ„å»ºæˆé•œåƒï¼ˆæ„å»ºå¯ä»¥å‚è€ƒ<strong>ä¸€æœŸ</strong>[2]ï¼‰ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker build -t busybox:test .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å†è®©æˆ‘ä»¬æ¥å¯¹æ¯”ä¸‹åŸç”Ÿçš„ busybox é•œåƒå¤§å°å’Œæˆ‘ä»¬ç”Ÿæˆçš„é•œåƒå¤§å°ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker images | grep busybox
busybox    test     896c63dbdb96    2 seconds ago    106 MB
busybox    latest   2b8fd9751c4c    9 weeks ago      1.093 MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡ºä¹æ„æ–™çš„æ˜¯ï¼Œå´ç”Ÿæˆäº† 106 MB çš„é•œåƒã€‚</p><p>å¤šå‡ºäº† 100 Mï¼Œè¿™æ˜¯ä¸ºä½•ï¼Ÿè¿™ç‚¹å’Œ Git ç±»ä¼¼ï¼ˆéƒ½ç”¨åˆ°äº†Copy-On-WriteæŠ€æœ¯ï¼‰ï¼Œæˆ‘ç”¨ git åšäº†å¦‚ä¸‹ä¸¤æ¬¡æäº¤ï¼ˆæ·»åŠ äº†åˆåˆ é™¤ï¼‰ï¼Œè¯·é—® <code>A_VERY_LARGE_FILE</code> è¿˜åœ¨ git ä»“åº“ä¸­å—ï¼Ÿ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ git add  A_VERY_LARGE_FILE
$ git commit
$ git rm  A_VERY_LARGE_FILE
$ git commit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç­”æ¡ˆæ˜¯:åœ¨çš„ï¼Œå¹¶ä¸”ä¼šå ç”¨ä»“åº“çš„å¤§å°ã€‚Git ä¼šä¿å­˜æ¯ä¸€æ¬¡æäº¤çš„æ–‡ä»¶ç‰ˆæœ¬ï¼Œè€Œ Dockerfile ä¸­æ¯ä¸€æ¡æŒ‡ä»¤éƒ½å¯èƒ½å¢åŠ æ•´ä½“é•œåƒçš„å¤§å°ï¼Œå³ä½¿å®ƒæœ€ç»ˆä»€ä¹ˆäº‹æƒ…éƒ½æ²¡åšã€‚</p><h1 id="åˆ¶ä½œæ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#åˆ¶ä½œæ­¥éª¤" aria-hidden="true">#</a> åˆ¶ä½œæ­¥éª¤</h1><p>äº†è§£äº†é•œåƒå±‚çŸ¥è¯†ï¼Œæœ‰åŠ©äºæˆ‘ä»¬æ¥ä¸‹æ¥åˆ¶ä½œç²¾ç®€é•œåƒã€‚è¿™é‡Œå¼€å§‹ï¼Œä»¥æœ€å¸¸ç”¨çš„å¼€æºç¼“å­˜è½¯ä»¶ <code>Redis</code> ä¸ºä¾‹ï¼Œä»ä¸€æ­¥æ­¥è¯•éªŒï¼Œæ¥ä»‹ç»å¦‚ä½•åˆ¶ä½œæ›´ç²¾ç®€çš„ Docker é•œåƒã€‚</p><h2 id="lab-1-åˆå§‹åŒ–æ„å»º-redis-é•œåƒ" tabindex="-1"><a class="header-anchor" href="#lab-1-åˆå§‹åŒ–æ„å»º-redis-é•œåƒ" aria-hidden="true">#</a> lab-1ï¼šåˆå§‹åŒ–æ„å»º Redis é•œåƒ</h2><p><strong>ç›´æ¥ä¸Š <code>Dockerfile</code> ï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FROM ubuntu:trusty
ENV VER     3.0.0
ENV TARBALL http://download.redis.io/releases/redis-$VER.tar.gz
# ==&gt; Install curl and helper tools...
RUN apt-get update
RUN apt-get install -y  curl make gcc
# ==&gt; Download, compile, and install...
RUN curl -L $TARBALL | tar zxv
WORKDIR  redis-$VER
RUN make
RUN make install
#...
# ==&gt; Clean up...
WORKDIR /
RUN apt-get remove -y --auto-remove curl make gcc
RUN apt-get clean
RUN rm -rf /var/lib/apt/lists/*  /redis-$VER
#...
CMD [&quot;redis-server&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“åˆæ³¨é‡Šï¼Œè¯»èµ·æ¥å¹¶ä¸å›°éš¾ï¼Œç”¨åˆ°çš„éƒ½æ˜¯å¸¸è§„çš„å‡ ä¸ªå‘½ä»¤ï¼Œç®€è¦ä»‹ç»å¦‚ä¸‹ï¼š</p><ul><li>FROMï¼šé¡¶å¤´å†™ï¼ŒæŒ‡å®šä¸€ä¸ªåŸºç¡€é•œåƒï¼Œæ­¤å¤„åŸºäº <code>ubuntu:trusty</code></li><li>ENVï¼šè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œè¿™é‡Œè®¾ç½®äº† <code>VER</code> å’Œ <code>TARBALL</code> ä¸¤ä¸ªç¯å¢ƒå˜é‡</li><li>RUNï¼šæœ€å¸¸ç”¨çš„ Dockerfile æŒ‡ä»¤ï¼Œç”¨äºè¿è¡Œå„ç§å‘½ä»¤ï¼Œè¿™é‡Œè°ƒç”¨äº† 8 æ¬¡ RUN æŒ‡ä»¤</li><li>WORKDIRï¼šæŒ‡å®šå·¥ä½œç›®å½•ï¼Œç›¸å½“äºæŒ‡ä»¤ <code>cd</code></li><li>CMDï¼šæŒ‡å®šé•œåƒé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ï¼Œæ­¤å¤„é»˜è®¤æ‰§è¡Œ redis-server å‘½ä»¤æ¥å¯åŠ¨ redis</li></ul><p><strong>æ‰§è¡Œæ„å»ºï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker build  -t redis:lab-1  .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><em>æ³¨ï¼šå›½å†…ç½‘ç»œï¼Œæ›´æ–°ä¸‹è½½å¯èƒ½ä¼šè¾ƒæ…¢</em></p><p><strong>æŸ¥çœ‹å¤§å°ï¼š</strong></p><table><thead><tr><th style="text-align:center;">Lab</th><th style="text-align:left;">iamge</th><th style="text-align:left;">Base</th><th style="text-align:center;">Lang</th><th style="text-align:center;">.red[*]</th><th style="text-align:right;">Size (MB)</th><th style="text-align:left;">Memo</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>ubuntu</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">347.3</td><td style="text-align:left;">base ubuntu</td></tr></tbody></table><p>åŠ¨è¾„å°±æœ‰ 300å¤š M çš„å¤§å°ï¼Œä¸èƒ½å¿ï¼Œä¸‹é¢æˆ‘ä»¬å¼€å§‹ä¸€æ­¥æ­¥ä¼˜åŒ–ã€‚</p><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h3><h2 id="lab-2-ä¼˜åŒ–åŸºç¡€é•œåƒ" tabindex="-1"><a class="header-anchor" href="#lab-2-ä¼˜åŒ–åŸºç¡€é•œåƒ" aria-hidden="true">#</a> lab-2ï¼šä¼˜åŒ–åŸºç¡€é•œåƒ</h2><p><strong>ç²¾ç®€1ï¼šé€‰ç”¨æ›´å°çš„åŸºç¡€é•œåƒã€‚</strong></p><p>å¸¸ç”¨çš„ Linux ç³»ç»Ÿé•œåƒä¸€èˆ¬æœ‰ <code>ubuntu</code>ã€<code>centos</code>ã€<code>debian</code>ï¼Œå…¶ä¸­<code>debian</code> æ›´è½»é‡ï¼Œè€Œä¸”å¤Ÿç”¨ï¼Œå¯¹æ¯”å¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>REPOSITORY          TAG        IMAGE ID         VIRTUAL SIZE
---------------     ------     ------------     ------------
centos              7          214a4932132a     215.7 MB
centos              6          f6808a3e4d9e     202.6 MB
ubuntu              trusty     d0955f21bf24     188.3 MB
ubuntu              precise    9c5e4be642b7     131.9 MB
debian              jessie     65688f7c61c4     122.8 MB
debian              wheezy     1265e16d0c28     84.96 MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ›¿æ¢ <code>debian:jessie</code> ä½œä¸ºæˆ‘ä»¬çš„åŸºç¡€é•œåƒã€‚</p><p><strong>ä¼˜åŒ– Dockerfileï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FROM debian:jessie

#...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ‰§è¡Œæ„å»ºï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker build  -t redis:lab-2  .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æŸ¥çœ‹å¤§å°ï¼š</strong></p><table><thead><tr><th style="text-align:center;">Lab</th><th style="text-align:left;">image</th><th style="text-align:left;">Base</th><th style="text-align:center;">Lang</th><th style="text-align:center;">.red[*]</th><th style="text-align:right;">Size (MB)</th><th style="text-align:left;">Memo</th></tr></thead><tbody><tr><td style="text-align:center;">01</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>ubuntu</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">347.3</td><td style="text-align:left;">base ubuntu</td></tr><tr><td style="text-align:center;">02</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>debian</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">305.7</td><td style="text-align:left;">base debian</td></tr></tbody></table><p>å‡å°‘äº†42Mï¼Œç¨æœ‰æˆæ•ˆï¼Œä½†å¹¶ä¸æ˜æ˜¾ã€‚ç»†å¿ƒçš„åŒå­¦åº”è¯¥å‘ç°ï¼Œåªæœ‰ 122 MB çš„ <code>debian</code> åŸºç¡€é•œåƒï¼Œæ„å»ºåå¢åŠ åˆ°äº† 305 MBï¼Œçœ‹æ¥è¿™é‡Œé¢è‚¯å®šæœ‰ä¼˜åŒ–çš„ç©ºé—´ï¼Œå¦‚ä½•ä¼˜åŒ–å°±è¦ç”¨åˆ°æˆ‘ä»¬å¼€å¤´è¯´åˆ°çš„ <code>Image Layer</code> çŸ¥è¯†äº†ã€‚</p><h2 id="lab-3-ä¸²è”-dockerfile-æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#lab-3-ä¸²è”-dockerfile-æŒ‡ä»¤" aria-hidden="true">#</a> lab-3ï¼šä¸²è” Dockerfile æŒ‡ä»¤</h2><p><strong>ç²¾ç®€2ï¼šä¸²è”ä½ çš„ Dockerfile æŒ‡ä»¤ï¼ˆä¸€èˆ¬æ˜¯ <code>RUN</code> æŒ‡ä»¤ï¼‰ã€‚</strong></p><p>Dockerfile ä¸­çš„ RUN æŒ‡ä»¤é€šè¿‡ <code>&amp;&amp;</code> å’Œ <code>/</code> æ”¯æŒå°†å‘½ä»¤ä¸²è”åœ¨ä¸€èµ·ï¼Œæœ‰æ—¶èƒ½è¾¾åˆ°æ„æƒ³ä¸åˆ°çš„ç²¾ç®€æ•ˆæœã€‚</p><p><strong>ä¼˜åŒ– Dockerfileï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FROM debian:jessie

ENV VER     3.0.0
ENV TARBALL http://download.redis.io/releases/redis-$VER.tar.gz


RUN echo &quot;==&gt; Install curl and helper tools...&quot;  &amp;&amp; \
    apt-get update                      &amp;&amp; \
    apt-get install -y  curl make gcc   &amp;&amp; \
    \
    echo &quot;==&gt; Download, compile, and install...&quot;  &amp;&amp; \
    curl -L $TARBALL | tar zxv  &amp;&amp; \
    cd redis-$VER               &amp;&amp; \
    make                        &amp;&amp; \
    make install                &amp;&amp; \
    ...
    echo &quot;==&gt; Clean up...&quot;  &amp;&amp; \
    apt-get remove -y --auto-remove curl make gcc  &amp;&amp; \
    apt-get clean                                  &amp;&amp; \
    rm -rf /var/lib/apt/lists/*  /redis-$VER

#...
CMD [&quot;redis-server&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ„å»ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker build  -t redis:lab-3  .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æŸ¥çœ‹å¤§å°ï¼š</p><table><thead><tr><th style="text-align:center;">Lab</th><th style="text-align:left;">Image</th><th style="text-align:left;">Base</th><th style="text-align:center;">Lang</th><th style="text-align:center;">.red[*]</th><th style="text-align:right;">Size (MB)</th><th style="text-align:left;">Memo</th></tr></thead><tbody><tr><td style="text-align:center;">01</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>ubuntu</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">347.3</td><td style="text-align:left;">base ubuntu</td></tr><tr><td style="text-align:center;">02</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>debian</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">305.7</td><td style="text-align:left;">base debian</td></tr><tr><td style="text-align:center;">03</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>debian</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">151.4</td><td style="text-align:left;">cmd chaining</td></tr></tbody></table><p>å“‡ï¼ä¸€ä¸‹å­å‡å°‘äº† 50%ï¼Œæ•ˆæœæ˜æ˜¾å•Šï¼è¿™æ˜¯æœ€å¸¸ç”¨çš„ä¸€ä¸ªç²¾ç®€æ‰‹æ®µäº†ã€‚</p><h2 id="lab-4-å‹ç¼©ä½ çš„é•œåƒ" tabindex="-1"><a class="header-anchor" href="#lab-4-å‹ç¼©ä½ çš„é•œåƒ" aria-hidden="true">#</a> lab-4ï¼šå‹ç¼©ä½ çš„é•œåƒ</h2><p><strong>ä¼˜åŒ–3ï¼šè¯•ç€ç”¨å‘½ä»¤æˆ–å·¥å…·å‹ç¼©ä½ çš„é•œåƒã€‚</strong></p><p>docker è‡ªå¸¦çš„ä¸€äº›å‘½ä»¤è¿˜èƒ½ååŠ©å‹ç¼©é•œåƒï¼Œæ¯”å¦‚ <code>export</code> å’Œ <code>import</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker run -d redis:lab-3
$ docker export 71b1c0ad0a2b | docker import - redis:lab-4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†éº»çƒ¦çš„æ˜¯éœ€è¦å…ˆå°†å®¹å™¨è¿è¡Œèµ·æ¥ï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹ä¸­ä½ ä¼šä¸¢å¤±é•œåƒåŸæœ‰çš„ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šå¯¼å‡ºç«¯å£ï¼Œç¯å¢ƒå˜é‡ï¼Œé»˜è®¤æŒ‡ä»¤ã€‚</p><p>æ‰€ä»¥ä¸€èˆ¬é€šè¿‡å‘½ä»¤è¡Œæ¥ç²¾ç®€é•œåƒéƒ½æ˜¯å®éªŒæ€§çš„ï¼Œé‚£ä¹ˆè¿™é‡Œå†æ¨èä¸€ä¸ªå°å·¥å…·ï¼š<strong>docker-squash</strong>[3]ã€‚ç”¨èµ·æ¥æ›´ç®€å•æ–¹ä¾¿ï¼Œå¹¶ä¸”ä¸ä¼šä¸¢å¤±åŸæœ‰é•œåƒçš„è‡ªå¸¦ä¿¡æ¯ã€‚</p><p><strong>ä¸‹è½½å®‰è£…ï¼š</strong></p><p><a href="https://github.com/jwilder/docker-squash#installation" target="_blank" rel="noopener noreferrer">https://github.com/jwilder/docker-squash#installation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><strong>å‹ç¼©æ“ä½œï¼š</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker save redis:lab-3 \
  | sudo docker-squash -verbose -t redis:lab-4  \
  | docker load
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>æ³¨ï¼šè¯¥å·¥å…·åœ¨ Mac ä¸‹å¹¶ä¸å¥½ä½¿ï¼Œè¯·åœ¨ Linux ä¸‹ä½¿ç”¨</em></p><p><strong>å¯¹æ¯”å¤§å°ï¼š</strong></p><table><thead><tr><th style="text-align:center;">Lab</th><th style="text-align:left;">Image</th><th style="text-align:left;">Base</th><th style="text-align:center;">PL</th><th style="text-align:center;">.red[*]</th><th style="text-align:right;">Size (MB)</th><th style="text-align:left;">Memo</th></tr></thead><tbody><tr><td style="text-align:center;">01</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>ubuntu</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">347.3</td><td style="text-align:left;">base ubuntu</td></tr><tr><td style="text-align:center;">02</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>debian</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">305.7</td><td style="text-align:left;">base debian</td></tr><tr><td style="text-align:center;">03</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>debian</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">151.4</td><td style="text-align:left;">cmd chaining</td></tr><tr><td style="text-align:center;">04</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>debian</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">151.4</td><td style="text-align:left;">docker-squash</td></tr></tbody></table><p>å¥½å§ï¼Œä»è¿™é‡Œçœ‹èµ·æ¥å¹¶æ²¡æœ‰å¤ªå¤§ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘åªèƒ½è¯´<code>è¯•ç€</code>ï¼Œè€Œä¸è¦æŠ¥å¤ªå¤§æœŸæœ›ã€‚</p><h2 id="lab-5-ä½¿ç”¨æœ€ç²¾ç®€çš„-base-image" tabindex="-1"><a class="header-anchor" href="#lab-5-ä½¿ç”¨æœ€ç²¾ç®€çš„-base-image" aria-hidden="true">#</a> lab-5ï¼šä½¿ç”¨æœ€ç²¾ç®€çš„ base image</h2><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="å›¾ç‰‡" loading="lazy"></p><p>ä½¿ç”¨ <code>scratch</code> æˆ–è€… <code>busybox</code> ä½œä¸ºåŸºç¡€é•œåƒã€‚</p><p>å…³äº scratchï¼š</p><ul><li>ä¸€ä¸ªç©ºé•œåƒï¼Œåªèƒ½ç”¨äºæ„å»ºé•œåƒï¼Œé€šè¿‡ <code>FROM scratch</code></li><li>åœ¨æ„å»ºä¸€äº›åŸºç¡€é•œåƒï¼Œæ¯”å¦‚ <code>debian</code> ã€ <code>busybox</code>ï¼Œéå¸¸æœ‰ç”¨</li><li>ç”¨äºæ„å»ºè¶…å°‘é•œåƒï¼Œæ¯”å¦‚æ„å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰åº“çš„äºŒè¿›åˆ¶æ–‡ä»¶</li></ul><p>å…³äº <code>busybox</code></p><ul><li>åªæœ‰ 1~5M çš„å¤§å°</li><li>åŒ…å«äº†å¸¸ç”¨çš„ UNIX å·¥å…·</li><li>éå¸¸æ–¹ä¾¿æ„å»ºå°é•œåƒ</li></ul><p>è¿™äº›è¶…å°çš„åŸºç¡€é•œåƒï¼Œç»“åˆèƒ½ç”Ÿæˆé™æ€åŸç”Ÿ ELF æ–‡ä»¶çš„ç¼–è¯‘è¯­è¨€ï¼Œæ¯”å¦‚C/C++ï¼Œæ¯”å¦‚ Goï¼Œç‰¹åˆ«æ–¹ä¾¿æ„å»ºè¶…å°çš„é•œåƒã€‚</p><p>cloudcomb-logoï¼ˆCè¯­è¨€å¼€å‘ï¼‰ å°±æ˜¯ç”¨åˆ°äº†è¯¥åŸç†ï¼Œæ‰èƒ½æ„å»ºå‡º 585 å­—èŠ‚çš„é•œåƒã€‚</p><p><code>redis</code> åŒæ ·ä½¿ç”¨ Cè¯­è¨€ å¼€å‘ï¼Œçœ‹æ¥ä¹Ÿæœ‰å¾ˆå¤§çš„ä¼˜åŒ–ç©ºé—´ï¼Œä¸‹é¢è¿™ä¸ªå®éªŒï¼Œè®©æˆ‘ä»¬ä»‹ç»å…·ä½“çš„æ“ä½œæ–¹æ³•ã€‚</p><h2 id="lab-6-æå–åŠ¨æ€é“¾æ¥çš„-so-æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#lab-6-æå–åŠ¨æ€é“¾æ¥çš„-so-æ–‡ä»¶" aria-hidden="true">#</a> lab-6ï¼šæå–åŠ¨æ€é“¾æ¥çš„ .so æ–‡ä»¶</h2><p>å®éªŒä¸Šä¸‹æ–‡ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ cat /etc/os-release

NAME=&quot;Ubuntu&quot;
VERSION=&quot;14.04.2 LTS, Trusty Tahr&quot;
$ uname -a
Linux localhost 3.13.0-46-generic #77-Ubuntu SMP
Mon Mar 2 18:23:39 UTC 2015
x86_64 x86_64 x86_64 GNU/Linux
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éš†é‡æ¨å‡º lddï¼šæ‰“å°å…±äº«çš„ä¾èµ–åº“</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ ldd  redis-3.0.0/src/redis-server
    linux-vdso.so.1 =&gt;  (0x00007fffde365000)
    libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007f307d5aa000)
    libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f307d38c000)
    libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f307cfc6000)
    /lib64/ld-linux-x86-64.so.2 (0x00007f307d8b9000)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†æ‰€æœ‰éœ€è¦çš„ .so æ–‡ä»¶æ‰“åŒ…ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ tar ztvf rootfs.tar.gz
4485167  2015-04-21 22:54  usr/local/bin/redis-server
1071552  2015-02-25 16:56  lib/x86_64-linux-gnu/libm.so.6
 141574  2015-02-25 16:56  lib/x86_64-linux-gnu/libpthread.so.0
1840928  2015-02-25 16:56  lib/x86_64-linux-gnu/libc.so.6
 149120  2015-02-25 16:56  lib64/ld-linux-x86-64.so.2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†åˆ¶ä½œæˆ Dockerfileï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FROM scratch
ADD  rootfs.tar.gz  /
COPY redis.conf     /etc/redis/redis.conf
EXPOSE 6379
CMD [&quot;redis-server&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œæ„å»ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker build  -t redis-05  .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æŸ¥çœ‹å¤§å°ï¼š</p><table><thead><tr><th style="text-align:center;">Lab</th><th style="text-align:left;"></th><th style="text-align:left;">Base</th><th style="text-align:center;">PL</th><th style="text-align:center;">.red[*]</th><th style="text-align:right;">Size (MB)</th><th style="text-align:left;">Memo</th></tr></thead><tbody><tr><td style="text-align:center;">01</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>ubuntu</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">347.3</td><td style="text-align:left;">base ubuntu</td></tr><tr><td style="text-align:center;">02</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>debian</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">305.7</td><td style="text-align:left;">base debian</td></tr><tr><td style="text-align:center;">03</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>debian</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">151.4</td><td style="text-align:left;">cmd chaining</td></tr><tr><td style="text-align:center;">04</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>debian</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">151.4</td><td style="text-align:left;">docker-squash</td></tr><tr><td style="text-align:center;">05</td><td style="text-align:left;">redis</td><td style="text-align:left;"><code>scratch</code></td><td style="text-align:center;">C</td><td style="text-align:center;">dyn</td><td style="text-align:right;">7.73</td><td style="text-align:left;">rootfs: .so</td></tr></tbody></table><p>å“‡ï¼æ˜¾è‘—æé«˜å•¦ï¼</p><p>æµ‹è¯•ä¸€ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker run -d --name redis-05 redis-05

$ redis-cli  -h  \
  $(docker inspect -f &#39;{{.NetworkSettings.IPAddress}}&#39; redis-05)

$ redis-benchmark  -h  \
  $(docker inspect -f &#39;{{.NetworkSettings.IPAddress}}&#39; redis-05)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ€»ç»“ä¸€ä¸‹ï¼š</p><ol><li>ç”¨ <code>ldd</code> æŸ¥å‡ºæ‰€éœ€çš„ .so æ–‡ä»¶</li><li>å°†æ‰€æœ‰ä¾èµ–å‹ç¼©æˆ <code>rootfs.tar</code> æˆ– <code>rootfs.tar.gz</code>ï¼Œä¹‹åæ‰“è¿› <code>scratch</code> åŸºç¡€é•œåƒ</li></ol><h2 id="lab-7-ä¸º-go-åº”ç”¨æ„å»ºç²¾ç®€é•œåƒ" tabindex="-1"><a class="header-anchor" href="#lab-7-ä¸º-go-åº”ç”¨æ„å»ºç²¾ç®€é•œåƒ" aria-hidden="true">#</a> lab-7ï¼šä¸º Go åº”ç”¨æ„å»ºç²¾ç®€é•œåƒ</h2><p>Go è¯­è¨€å¤©ç”Ÿå°±æ–¹ä¾¿ç”¨æ¥æ„å»ºç²¾ç®€é•œåƒï¼Œå¾—ç›Šäºå®ƒèƒ½æ–¹ä¾¿çš„æ‰“åŒ…æˆåŒ…å«é™æ€é“¾æ¥çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><p>æ‰“ä¸ªæ¯”æ–¹ï¼Œä½ æœ‰ä¸€ä¸ª 4 MB å¤§å°çš„åŒ…å«é™æ€é“¾æ¥çš„ Go äºŒè¿›åˆ¶ï¼Œå¹¶ä¸”å°†å…¶æ‰“è¿› scratch è¿™æ ·çš„åŸºç¡€é•œåƒï¼Œä½ å¾—åˆ°çš„é•œåƒå¤§å°ä¹Ÿåªæœ‰åŒºåŒºçš„ 4 MBã€‚è¿™å¯æ˜¯åŒ…å«åŒæ ·åŠŸèƒ½çš„ Ruby ç¨‹åºçš„ç™¾åˆ†ä¹‹ä¸€å•Šã€‚</p><p>è¿™é‡Œå†ç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªéå¸¸å¥½ç”¨å¼€æºçš„ Go ç¼–è¯‘å·¥å…·ï¼šgolang-builderï¼Œå¹¶ç»™å¤§å®¶å®é™…æ¼”ç¤ºä¸€ä¸ªä¾‹å­</p><p>ç¨‹åºä»£ç ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>package main // import &quot;github.com/CenturyLinkLabs/hello&quot;

import &quot;fmt&quot;

func main() {
    fmt.Println(&quot;Hello World&quot;)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dockerfileï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FROM scratch
COPY hello /
ENTRYPOINT [&quot;/hello&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ golang-builder æ‰“åŒ…æˆé•œåƒï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker run --rm \
    -v $(pwd):/src \
    -v /var/run/docker.sock:/var/run/docker.sock \
    centurylink/golang-builder
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹é•œåƒå¤§å°(Macä¸‹æµ‹è¯•)ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ docker images
REPOSITORY   TAG      IMAGE ID       CREATED          VIRTUAL SIZE
hello        latest   1a42948d3224   24 seconds ago   1.59 MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å“‡ï¼è¿™ä¹ˆçœåŠ›ï¼Œå°±èƒ½åˆ›å»ºå‡  M å¤§å°çš„é•œåƒï¼ŒGo ç®€ä»‹å°±æ˜¯ä¸º Docker é•œåƒé‡èº«å®šåšçš„ï¼</p><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>æˆ‘ä»¬ä»‹ç»äº†é•œåƒå±‚çš„çŸ¥è¯†ï¼Œå¹¶ä¸”é€šè¿‡å®éªŒï¼Œä»‹ç»ä¸‰ç§å¦‚ä½•ç²¾ç®€é•œåƒçš„æŠ€å·§ã€‚è¿™é‡Œä¸»è¦ä»‹ç»äº†ä¸‰ç§ç²¾ç®€æ–¹æ³•ï¼šé€‰ç”¨æ›´ç²¾å°çš„é•œåƒï¼Œä¸²è” Dockerfile è¿è¡ŒæŒ‡ä»¤ï¼Œä»¥åŠè¯•ç€å‹ç¼©ä½ çš„é•œåƒã€‚é€šè¿‡è¿™å‡ ä¸ªæŠ€å·§ï¼Œå·²ç»å¯ä»¥å°† 300M å¤§å°çš„é•œåƒå‹ç¼©åˆ° 150Mï¼Œå‹ç¼©ç‡50%åˆ°98%ï¼Œæ•ˆæœè¿˜æ˜¯ä¸é”™ã€‚</p><ol><li>ä¼˜åŒ–åŸºç¡€é•œåƒ</li><li>ä¸²æ¥ Dockerfile å‘½ä»¤ï¼š</li><li>å‹ç¼© Docker images</li><li>ä¼˜åŒ–ç¨‹åºä¾èµ–</li><li>é€‰ç”¨æ›´åˆé€‚çš„å¼€å‘è¯­è¨€</li></ol><h1 id="å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ" aria-hidden="true">#</a> å‚è€ƒ</h1><ul><li><strong>scratch in Docker Hub</strong>[4]</li><li><strong>Make FROM scratch a special cased &#39;no-base&#39; spec</strong>[5]</li><li><strong>vDSO (virtual dynamic shared object)</strong>[6]</li><li><strong>Small Docker Images For Go Apps</strong>[7] (with <strong>golang-builder</strong>[8])</li><li><strong>Building Docker Images for Static Go Binaries</strong>[9]</li><li><strong>Dockerfile Best Practices - take 2</strong>[10] - by Michael Crosby, 2014-03-09.</li><li><strong>Optimizing Docker Images</strong>[11] - by Brian DeHamer, 2014-07-28.</li><li><strong>Squashing Docker Images</strong>[12] - by Jason Wilder, 2014-08-19.</li></ul><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-hidden="true">#</a> å‚è€ƒèµ„æ–™</h2><p>[1]è¿™äº›æŠ€æœ¯: <em><a href="https://docs.docker.com/engine/userguide/storagedriver/imagesandcontainers/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/engine/userguide/storagedriver/imagesandcontainers/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [2]ä¸€æœŸ: <em><a href="https://github.com/bingohuang/play-docker-images/tree/master/stage-01" target="_blank" rel="noopener noreferrer">https://github.com/bingohuang/play-docker-images/tree/master/stage-01<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [3]docker-squash: <em><a href="https://github.com/jwilder/docker-squash" target="_blank" rel="noopener noreferrer">https://github.com/jwilder/docker-squash<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [4]scratch in Docker Hub: <em><a href="https://registry.hub.docker.com/_/scratch/" target="_blank" rel="noopener noreferrer">https://registry.hub.docker.com/_/scratch/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [5]Make FROM scratch a special cased &#39;no-base&#39; spec: <em><a href="https://github.com/docker/docker/pull/8827" target="_blank" rel="noopener noreferrer">https://github.com/docker/docker/pull/8827<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [6]vDSO (virtual dynamic shared object): <em><a href="http://en.wikipedia.org/wiki/VDSO" target="_blank" rel="noopener noreferrer">http://en.wikipedia.org/wiki/VDSO<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [7]Small Docker Images For Go Apps: <em><a href="http://www.centurylinklabs.com/small-docker-images-for-go-apps/" target="_blank" rel="noopener noreferrer">http://www.centurylinklabs.com/small-docker-images-for-go-apps/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [8]golang-builder: <em><a href="https://github.com/CenturyLinkLabs/golang-builder" target="_blank" rel="noopener noreferrer">https://github.com/CenturyLinkLabs/golang-builder<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [9]Building Docker Images for Static Go Binaries: <em><a href="https://medium.com/@kelseyhightower/optimizing-docker-images-for-static-binaries-b5696e26eb07" target="_blank" rel="noopener noreferrer">https://medium.com/@kelseyhightower/optimizing-docker-images-for-static-binaries-b5696e26eb07<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [10]Dockerfile Best Practices - take 2: <em><a href="http://crosbymichael.com/dockerfile-best-practices-take-2.html" target="_blank" rel="noopener noreferrer">http://crosbymichael.com/dockerfile-best-practices-take-2.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [11]Optimizing Docker Images: <em><a href="http://www.centurylinklabs.com/optimizing-docker-images/" target="_blank" rel="noopener noreferrer">http://www.centurylinklabs.com/optimizing-docker-images/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em> [12]Squashing Docker Images: <em><a href="http://jasonwilder.com/blog/2014/08/19/squashing-docker-images/" target="_blank" rel="noopener noreferrer">http://jasonwilder.com/blog/2014/08/19/squashing-docker-images/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></em></p><h1 id="è½¬è½½ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#è½¬è½½ä¿¡æ¯" aria-hidden="true">#</a> è½¬è½½ä¿¡æ¯</h1><p>æ–‡ç« æ¥è‡ªé»„åº†å…µè€å¸ˆçš„ç½‘æ˜“èœ‚å·¢ã€Šç©è½¬ Docker é•œåƒã€‹ç³»åˆ—<a href="https://github.com/bingohuang/play-docker-images%EF%BC%8C%E5%8E%9F%E6%9C%AC%E5%88%86%E4%B8%BA%E4%B8%8A%E4%B8%8B%E4%B8%A4%E7%AF%87%EF%BC%8C%E7%94%B1%E7%94%9F%E6%80%81%E5%90%9B%E6%95%B4%E5%90%88%E6%88%90%E4%B8%80%E7%AF%87%E4%BE%BF%E4%BA%8E%E9%98%85%E8%AF%BB%E3%80%82" target="_blank" rel="noopener noreferrer">https://github.com/bingohuang/play-docker-imagesï¼ŒåŸæœ¬åˆ†ä¸ºä¸Šä¸‹ä¸¤ç¯‡ï¼Œç”±ç”Ÿæ€å›æ•´åˆæˆä¸€ç¯‡ä¾¿äºé˜…è¯»ã€‚<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/docs/soft/docker/mark-small-image.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: zhang.yunpeng@synyi.com">zhangyunpeng</span>,<!--]--><!--[--><span class="contributor" title="email: itzhangyunpeng@163.com">azrng</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/kbms/soft/docker/install-services.html" class="nav-link prev" aria-label="Dockerå¯è§†åŒ–"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Dockerå¯è§†åŒ–</div></a><a href="/kbms/soft/docker/windows-install.html" class="nav-link next" aria-label="Windowså®‰è£…docker"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">Windowså®‰è£…docker<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright Â© 2022 azrng</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/kbms/assets/app.cc52523d.js" defer></script>
  </body>
</html>
